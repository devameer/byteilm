import{j as e,C as we}from"./charts-VrJjKkAO.js";import{r as g}from"./vendor-xoa7E_IC.js";import{u as G}from"./index-DX6VYCbL.js";import{A as Le}from"./Alert-CZ1db3o1.js";import{B as Z}from"./Button-mFSk_wkY.js";import{t as M}from"./teamService-gREmOKnv.js";import{t as Ee}from"./taskService-5qNZ7o1f.js";import"./auto-CHpFD2JP.js";import"./apiHelpers-CkzhrEqp.js";const De=()=>{const{darkMode:s}=G(),h=s?"bg-gray-800 border-slate-700":"bg-white border-slate-200",t=s?"bg-gray-700":"bg-gray-200",l=s?"bg-gray-600":"bg-gray-100",j=s?"bg-gray-600":"bg-gray-300",i=s?"bg-gray-700":"bg-gray-200",y=s?"bg-gray-700":"bg-gray-50",I=s?"border-slate-600":"border-slate-100",F=s?"border-gray-600":"border-gray-200";return e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 animate-pulse",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[e.jsxs("div",{className:`${h} rounded-2xl p-6 border-2 shadow-lg`,children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${t} mr-3`}),e.jsx("div",{className:`h-6 ${t} rounded w-32`})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:`h-4 ${t} rounded w-20 mb-2`}),e.jsx("div",{className:`h-10 ${l} rounded-lg`})]}),e.jsxs("div",{children:[e.jsx("div",{className:`h-4 ${t} rounded w-24 mb-2`}),e.jsx("div",{className:`h-24 ${l} rounded-lg`})]}),e.jsx("div",{className:`h-12 ${t} rounded-lg`})]})]}),e.jsxs("div",{className:`${h} rounded-2xl border-2 shadow-lg overflow-hidden`,children:[e.jsx("div",{className:`${i} p-4`,children:e.jsx("div",{className:`h-6 ${j} rounded w-32`})}),e.jsx("div",{className:`p-4 border-b ${I}`,children:e.jsx("div",{className:`h-10 ${l} rounded-lg`})}),e.jsx("div",{className:`divide-y ${I}`,children:[1,2,3,4].map(A=>e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:`h-5 ${t} rounded w-3/4`}),e.jsx("div",{className:`h-3 ${l} rounded w-1/2`}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:`h-5 ${l} rounded-full w-16`}),e.jsx("div",{className:`h-5 ${l} rounded-full w-12`})]})]}),e.jsx("div",{className:`w-10 h-10 ${t} rounded-lg`})]})},A))})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:`${h} rounded-2xl p-6 border-2 shadow-lg`,children:[e.jsx("div",{className:`${i} -m-6 mb-6 p-6 rounded-t-2xl`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-xl ${j}`}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:`h-8 ${j} rounded w-48`}),e.jsx("div",{className:`h-4 ${j} rounded w-64`})]})]}),e.jsx("div",{className:`h-10 w-32 ${j} rounded-lg`})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:`h-4 ${t} rounded w-20`}),e.jsx("div",{className:`h-10 ${l} rounded-lg`})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx("div",{className:`h-4 ${t} rounded w-24`}),e.jsx("div",{className:`h-24 ${l} rounded-lg`})]})]})}),e.jsx("div",{className:"grid gap-4 md:grid-cols-3 mt-6",children:[1,2,3].map(A=>e.jsx("div",{className:`rounded-xl border-2 ${F} ${y} p-5`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:`h-3 ${t} rounded w-20`}),e.jsx("div",{className:`h-8 ${j} rounded w-12`})]}),e.jsx("div",{className:`w-12 h-12 ${t} rounded-lg`})]})},A))})]}),e.jsxs("div",{className:`${h} rounded-2xl p-6 border-2 shadow-lg space-y-4`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:`h-6 ${t} rounded w-32`}),e.jsx("div",{className:`h-6 ${l} rounded-full w-40`})]}),e.jsx("div",{className:`${y} rounded-xl p-4 border-2 ${F}`,children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsx("div",{className:`md:col-span-2 h-10 ${t} rounded-lg`}),e.jsx("div",{className:`h-10 ${t} rounded-lg`})]})}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(A=>e.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-xl ${y}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full ${t}`}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:`h-4 ${t} rounded w-32`}),e.jsx("div",{className:`h-3 ${l} rounded w-48`})]}),e.jsx("div",{className:`h-8 ${t} rounded-lg w-24`}),e.jsx("div",{className:`h-8 ${t} rounded-lg w-20`})]},A))})]}),e.jsxs("div",{className:`${h} rounded-2xl p-6 border-2 shadow-lg space-y-4`,children:[e.jsx("div",{className:`h-6 ${t} rounded w-32`}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:[1,2].map(A=>e.jsxs("div",{className:`border-2 ${F} rounded-xl p-4 ${y}`,children:[e.jsx("div",{className:`h-5 ${t} rounded w-24 mb-3`}),e.jsx("div",{className:"space-y-2",children:[1,2,3].map(D=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${s?"bg-gray-700 border-gray-600":"bg-white border-gray-100"} border-2`,children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:`h-4 ${t} rounded w-3/4`}),e.jsx("div",{className:`h-3 ${l} rounded w-1/2`})]}),e.jsx("div",{className:`w-5 h-5 ${t} rounded`})]},D))})]},A))})]})]})]})},Re=()=>{const{darkMode:s}=G(),h=s?"bg-gray-800 border-slate-700":"bg-white border-slate-200",t=s?"bg-gray-700":"bg-gray-200",l=s?"bg-gray-600":"bg-gray-100",j=s?"bg-gray-600":"bg-gray-300",i=s?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200";return e.jsx("div",{className:`${h} rounded-2xl p-6 border-2 shadow-lg animate-pulse`,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-xl ${t}`}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:`h-8 ${t} rounded w-48`}),e.jsx("div",{className:`h-4 ${l} rounded w-64`})]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[1,2,3].map(y=>e.jsx("div",{className:`rounded-xl border-2 ${i} p-5`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:`h-3 ${t} rounded w-20`}),e.jsx("div",{className:`h-8 ${j} rounded w-12`})]}),e.jsx("div",{className:`w-12 h-12 ${t} rounded-lg`})]})},y))}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:`h-20 ${l} rounded-lg`}),e.jsx("div",{className:`h-32 ${l} rounded-lg`})]})]})})},Fe=({teamId:s,teamName:h})=>{const{darkMode:t}=G(),[l,j]=g.useState([]),[i,y]=g.useState(!1),[I,F]=g.useState(!1),[A,D]=g.useState(null),[B,L]=g.useState(!1),[w,C]=g.useState({role:"member",expires_in_days:7,max_uses:1}),z=t?"bg-gray-800 border-gray-700":"bg-white border-slate-200",U=t?"text-gray-100":"text-slate-800",O=t?"text-gray-400":"text-slate-500",k=t?"bg-gray-700 border-gray-600 text-gray-100":"border-slate-200",R=t?"bg-gray-700":"bg-slate-50",p=t?"border-gray-700 hover:border-indigo-500":"border-slate-200 hover:border-indigo-300",u=t?"bg-gray-700 border-gray-600 text-gray-300":"bg-slate-50 border-slate-200 text-slate-700";g.useEffect(()=>{s&&P()},[s]);const P=async()=>{y(!0);try{const c=await M.getInvitations(s);c.success&&j(c.data||[])}catch(c){console.error("Error loading invitations:",c)}finally{y(!1)}},q=async c=>{c.preventDefault(),F(!0);try{const N=await M.createInvitation(s,w);N.success&&(j([N.data,...l]),L(!1),C({role:"member",expires_in_days:7,max_uses:1}))}catch(N){console.error("Error creating invitation:",N)}finally{F(!1)}},m=async c=>{if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù„ØºØ§Ø¡ Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø¹ÙˆØ©ØŸ"))try{(await M.revokeInvitation(s,c)).success&&j(l.filter(n=>n.id!==c))}catch(N){console.error("Error revoking invitation:",N)}},S=c=>{const N=`${window.location.origin}/teams/join/${c.token}`;navigator.clipboard.writeText(N),D(c.id),setTimeout(()=>D(null),2e3)},$=c=>c.revoked_at?e.jsx("span",{className:`px-2 py-1 ${t?"bg-red-900/50 text-red-300":"bg-red-100 text-red-700"} rounded-full text-xs font-bold`,children:"Ù…Ù„ØºØ§Ø©"}):c.expires_at&&new Date(c.expires_at)<new Date?e.jsx("span",{className:`px-2 py-1 ${t?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"} rounded-full text-xs font-bold`,children:"Ù…Ù†ØªÙ‡ÙŠØ©"}):c.max_uses&&c.uses_count>=c.max_uses?e.jsx("span",{className:`px-2 py-1 ${t?"bg-orange-900/50 text-orange-300":"bg-orange-100 text-orange-700"} rounded-full text-xs font-bold`,children:"Ù…Ø³ØªÙ†ÙØ°Ø©"}):e.jsx("span",{className:`px-2 py-1 ${t?"bg-green-900/50 text-green-300":"bg-green-100 text-green-700"} rounded-full text-xs font-bold`,children:"Ù†Ø´Ø·Ø©"});return e.jsxs("div",{className:`${z} rounded-2xl p-6 border-2 shadow-lg`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:`text-xl font-black ${U} flex items-center`,children:[e.jsx("i",{className:"fas fa-link ml-2 text-indigo-500"}),"Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø¯Ø¹ÙˆØ©"]}),e.jsx(Z,{type:"button",variant:"primary",icon:"fa-plus",onClick:()=>L(!B),size:"sm",children:B?"Ø¥Ù„ØºØ§Ø¡":"Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ø¯Ø¹ÙˆØ©"})]}),B&&e.jsxs("form",{onSubmit:q,className:`mb-6 rounded-xl p-4 border-2 ${t?"bg-indigo-900/30 border-indigo-700":"bg-gradient-to-r from-indigo-50 to-blue-50 border-indigo-200"}`,children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:`block text-sm font-bold ${t?"text-gray-300":"text-slate-700"} mb-2`,children:[e.jsx("i",{className:`fas fa-user-tag ml-1 ${t?"text-gray-500":"text-slate-400"}`}),"Ø§Ù„Ø¯ÙˆØ±"]}),e.jsxs("select",{className:`form-select w-full border-2 rounded-lg px-3 py-2 ${k}`,value:w.role,onChange:c=>C({...w,role:c.target.value}),children:[e.jsx("option",{value:"member",children:"Ø¹Ø¶Ùˆ"}),e.jsx("option",{value:"viewer",children:"Ù…Ø´Ø§Ù‡Ø¯"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block text-sm font-bold ${t?"text-gray-300":"text-slate-700"} mb-2`,children:[e.jsx("i",{className:`fas fa-calendar-alt ml-1 ${t?"text-gray-500":"text-slate-400"}`}),"ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø±Ø§Ø¨Ø· (Ø£ÙŠØ§Ù…)"]}),e.jsx("input",{type:"number",min:"1",max:"30",className:`form-input w-full border-2 rounded-lg px-3 py-2 ${k}`,value:w.expires_in_days,onChange:c=>C({...w,expires_in_days:parseInt(c.target.value)})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block text-sm font-bold ${t?"text-gray-300":"text-slate-700"} mb-2`,children:[e.jsx("i",{className:`fas fa-hashtag ml-1 ${t?"text-gray-500":"text-slate-400"}`}),"Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª"]}),e.jsx("input",{type:"number",min:"1",max:"100",className:`form-input w-full border-2 rounded-lg px-3 py-2 ${k}`,value:w.max_uses,onChange:c=>C({...w,max_uses:parseInt(c.target.value)})})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(Z,{type:"submit",variant:"success",loading:I,icon:"fa-check",children:"Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø§Ø¨Ø·"})})]}),i?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("i",{className:"fas fa-spinner fa-spin text-3xl text-indigo-500"}),e.jsx("p",{className:`mt-2 ${O}`,children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„..."})]}):l.length===0?e.jsxs("div",{className:`text-center py-12 ${R} rounded-xl`,children:[e.jsx("i",{className:`fas fa-link text-4xl ${t?"text-gray-600":"text-slate-300"} mb-3`}),e.jsx("p",{className:O,children:"Ù„Ù… ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙŠ Ø±ÙˆØ§Ø¨Ø· Ø¯Ø¹ÙˆØ© Ø¨Ø¹Ø¯"}),e.jsx("p",{className:`text-xs ${t?"text-gray-500":"text-slate-400"} mt-1`,children:"Ø£Ù†Ø´Ø¦ Ø±Ø§Ø¨Ø· Ø¯Ø¹ÙˆØ© Ù„Ø¯Ø¹ÙˆØ© Ø£Ø¹Ø¶Ø§Ø¡ Ø¬Ø¯Ø¯ Ù„Ù„ÙØ±ÙŠÙ‚"})]}):e.jsx("div",{className:"space-y-3",children:l.map(c=>{var N;return e.jsx("div",{className:`border-2 ${p} rounded-xl p-4 hover:shadow-md transition-all`,children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[$(c),e.jsx("span",{className:`px-2 py-1 ${t?"bg-indigo-900/50 text-indigo-300":"bg-indigo-100 text-indigo-700"} rounded-full text-xs font-bold`,children:c.role==="member"?"Ø¹Ø¶Ùˆ":"Ù…Ø´Ø§Ù‡Ø¯"})]}),e.jsx("div",{className:`${u} rounded-lg p-3 mb-2 font-mono text-sm break-all border`,children:`${window.location.origin}/teams/join/${c.token}`}),e.jsxs("div",{className:`flex flex-wrap gap-3 text-xs ${O}`,children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-calendar"}),"ÙŠÙ†ØªÙ‡ÙŠ: ",new Date(c.expires_at).toLocaleDateString("ar-SA")]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-chart-line"}),"Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª: ",c.uses_count,"/",c.max_uses||"âˆ"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-user"}),"Ø¨ÙˆØ§Ø³Ø·Ø©: ",(N=c.created_by)==null?void 0:N.name]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>S(c),className:"px-3 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg text-sm font-bold transition-all hover:shadow-md flex items-center gap-2",title:"Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·",children:[e.jsx("i",{className:`fas ${A===c.id?"fa-check":"fa-copy"}`}),A===c.id?"ØªÙ… Ø§Ù„Ù†Ø³Ø®":"Ù†Ø³Ø®"]}),!c.revoked_at&&e.jsx("button",{onClick:()=>m(c.id),className:"px-3 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-bold transition-all hover:shadow-md",title:"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¯Ø¹ÙˆØ©",children:e.jsx("i",{className:"fas fa-ban"})})]})]})},c.id)})})]})},Be=({teamId:s})=>{const{darkMode:h}=G(),[t,l]=g.useState([]),[j,i]=g.useState(!1),[y,I]=g.useState("all"),[F,A]=g.useState(1),[D,B]=g.useState(!0),L=h?"bg-gray-800 border-gray-700":"bg-white border-slate-200",w=h?"text-gray-100":"text-slate-800",C=h?"text-gray-400":"text-slate-500",z=h?"bg-gray-700":"bg-slate-50",U=h?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-slate-100 text-slate-700 hover:bg-slate-200",O=h?"border-gray-700 hover:border-indigo-500":"border-slate-100 hover:border-indigo-200",k=h?"bg-gray-700 hover:bg-gray-600 text-gray-200":"bg-slate-100 hover:bg-slate-200 text-slate-700";g.useEffect(()=>{s&&R()},[s,y]);const R=async(m=!1)=>{i(!0);try{const S=m?F+1:1,$=await M.getActivityLog(s,{type:y!=="all"?y:void 0,page:S,per_page:10});if($.success){const c=$.data||[];l(m?[...t,...c]:c),B(c.length===10),A(S)}}catch(S){console.error("Error loading activities:",S)}finally{i(!1)}},p=m=>({member_added:{icon:"fa-user-plus",color:"text-green-500",bg:h?"bg-green-900/30":"bg-green-50"},member_removed:{icon:"fa-user-minus",color:"text-red-500",bg:h?"bg-red-900/30":"bg-red-50"},member_role_changed:{icon:"fa-user-tag",color:"text-blue-500",bg:h?"bg-blue-900/30":"bg-blue-50"},resource_shared:{icon:"fa-share-alt",color:"text-purple-500",bg:h?"bg-purple-900/30":"bg-purple-50"},resource_unshared:{icon:"fa-unlink",color:"text-orange-500",bg:h?"bg-orange-900/30":"bg-orange-50"},team_created:{icon:"fa-plus-circle",color:"text-indigo-500",bg:h?"bg-indigo-900/30":"bg-indigo-50"},team_updated:{icon:"fa-edit",color:"text-yellow-500",bg:h?"bg-yellow-900/30":"bg-yellow-50"},team_deleted:{icon:"fa-trash",color:"text-red-500",bg:h?"bg-red-900/30":"bg-red-50"},task_shared:{icon:"fa-tasks",color:"text-cyan-500",bg:h?"bg-cyan-900/30":"bg-cyan-50"},task_assigned:{icon:"fa-user-check",color:"text-teal-500",bg:h?"bg-teal-900/30":"bg-teal-50"}})[m]||{icon:"fa-circle",color:"text-gray-500",bg:h?"bg-gray-700":"bg-gray-50"},u=m=>{var $,c,N,n,T,E,W,Q,J,ee,Y,V,f,H;return{member_added:`Ø£Ø¶Ø§Ù ${($=m.actor)==null?void 0:$.name} Ø§Ù„Ø¹Ø¶Ùˆ ${(c=m.target)==null?void 0:c.name}`,member_removed:`Ø£Ø²Ø§Ù„ ${(N=m.actor)==null?void 0:N.name} Ø§Ù„Ø¹Ø¶Ùˆ ${(n=m.target)==null?void 0:n.name}`,member_role_changed:`ØºÙŠÙ‘Ø± ${(T=m.actor)==null?void 0:T.name} Ø¯ÙˆØ± ${(E=m.target)==null?void 0:E.name} Ø¥Ù„Ù‰ ${m.new_value}`,resource_shared:`Ø´Ø§Ø±Ùƒ ${(W=m.actor)==null?void 0:W.name} ${m.resource_type==="course"?"Ø§Ù„Ø¯ÙˆØ±Ø©":"Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"} "${m.resource_name}"`,resource_unshared:`Ø£Ù„ØºÙ‰ ${(Q=m.actor)==null?void 0:Q.name} Ù…Ø´Ø§Ø±ÙƒØ© ${m.resource_type==="course"?"Ø§Ù„Ø¯ÙˆØ±Ø©":"Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"} "${m.resource_name}"`,team_created:`Ø£Ù†Ø´Ø£ ${(J=m.actor)==null?void 0:J.name} Ø§Ù„ÙØ±ÙŠÙ‚`,team_updated:`Ø­Ø¯Ù‘Ø« ${(ee=m.actor)==null?void 0:ee.name} Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙØ±ÙŠÙ‚`,team_deleted:`Ø­Ø°Ù ${(Y=m.actor)==null?void 0:Y.name} Ø§Ù„ÙØ±ÙŠÙ‚`,task_shared:`Ø´Ø§Ø±Ùƒ ${(V=m.actor)==null?void 0:V.name} Ø§Ù„Ù…Ù‡Ù…Ø© "${m.task_title}"`,task_assigned:`Ø¹ÙŠÙ‘Ù† ${(f=m.actor)==null?void 0:f.name} Ø§Ù„Ù…Ù‡Ù…Ø© "${m.task_title}" Ù„Ù€ ${(H=m.target)==null?void 0:H.name}`}[m.type]||m.description||"Ù†Ø´Ø§Ø· ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"},P=m=>{const S=new Date(m),c=new Date-S,N=Math.floor(c/6e4),n=Math.floor(c/36e5),T=Math.floor(c/864e5);return N<1?"Ø§Ù„Ø¢Ù†":N<60?`Ù…Ù†Ø° ${N} Ø¯Ù‚ÙŠÙ‚Ø©`:n<24?`Ù…Ù†Ø° ${n} Ø³Ø§Ø¹Ø©`:T<7?`Ù…Ù†Ø° ${T} ÙŠÙˆÙ…`:S.toLocaleDateString("ar-SA")},q=[{value:"all",label:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª",icon:"fa-list"},{value:"member_added",label:"Ø¥Ø¶Ø§ÙØ© Ø£Ø¹Ø¶Ø§Ø¡",icon:"fa-user-plus"},{value:"member_removed",label:"Ø¥Ø²Ø§Ù„Ø© Ø£Ø¹Ø¶Ø§Ø¡",icon:"fa-user-minus"},{value:"member_role_changed",label:"ØªØºÙŠÙŠØ± Ø§Ù„Ø£Ø¯ÙˆØ§Ø±",icon:"fa-user-tag"},{value:"resource_shared",label:"Ù…Ø´Ø§Ø±ÙƒØ© Ù…ÙˆØ§Ø±Ø¯",icon:"fa-share-alt"},{value:"task_shared",label:"Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ù‡Ø§Ù…",icon:"fa-tasks"}];return e.jsxs("div",{className:`${L} rounded-2xl p-6 border-2 shadow-lg`,children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h3",{className:`text-xl font-black ${w} flex items-center`,children:[e.jsx("i",{className:"fas fa-history ml-2 text-indigo-500"}),"Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª"]})}),e.jsx("div",{className:"mb-6 overflow-x-auto",children:e.jsx("div",{className:"flex gap-2 pb-2",children:q.map(m=>e.jsxs("button",{onClick:()=>I(m.value),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all ${y===m.value?"bg-indigo-500 text-white shadow-md":U}`,children:[e.jsx("i",{className:`fas ${m.icon} ml-1`}),m.label]},m.value))})}),j&&t.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("i",{className:"fas fa-spinner fa-spin text-3xl text-indigo-500"}),e.jsx("p",{className:`mt-2 ${C}`,children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„..."})]}):t.length===0?e.jsxs("div",{className:`text-center py-12 ${z} rounded-xl`,children:[e.jsx("i",{className:`fas fa-history text-4xl ${h?"text-gray-600":"text-slate-300"} mb-3`}),e.jsx("p",{className:C,children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†Ø´Ø§Ø·Ø§Øª Ù„Ø¹Ø±Ø¶Ù‡Ø§"}),e.jsx("p",{className:`text-xs ${h?"text-gray-500":"text-slate-400"} mt-1`,children:"Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ Ø¬Ù…ÙŠØ¹ Ù†Ø´Ø§Ø·Ø§Øª Ø§Ù„ÙØ±ÙŠÙ‚"})]}):e.jsxs("div",{className:"space-y-3",children:[t.map((m,S)=>{var n;const{icon:$,color:c,bg:N}=p(m.type);return e.jsxs("div",{className:`flex items-start gap-4 p-4 rounded-xl border-2 ${O} hover:shadow-md transition-all`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl ${N} flex items-center justify-center flex-shrink-0`,children:e.jsx("i",{className:`fas ${$} ${c} text-xl`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`${w} font-medium mb-1`,children:u(m)}),e.jsxs("div",{className:`flex items-center gap-3 text-xs ${C}`,children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-clock"}),P(m.created_at)]}),m.ip_address&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-globe"}),m.ip_address]})]})]}),((n=m.actor)==null?void 0:n.avatar)&&e.jsx("img",{src:m.actor.avatar,alt:m.actor.name,className:`w-10 h-10 rounded-full border-2 ${h?"border-gray-700":"border-white"} shadow-sm`})]},`${m.id}-${S}`)}),D&&e.jsx("button",{onClick:()=>R(!0),disabled:j,className:`w-full py-3 ${k} font-bold rounded-xl transition-all disabled:opacity-50`,children:j?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin ml-2"}),"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-chevron-down ml-2"}),"Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø²ÙŠØ¯"]})})]})]})},Pe=({teamId:s,teamName:h,members:t})=>{const{darkMode:l}=G(),[j,i]=g.useState([]),[y,I]=g.useState([]),[F,A]=g.useState(!1),[D,B]=g.useState(!1),[L,w]=g.useState(""),[C,z]=g.useState(""),U=l?"bg-gray-800 border-gray-700":"bg-white border-slate-200",O=l?"text-gray-100":"text-slate-800",k=l?"text-gray-400":"text-slate-500",R=l?"bg-gray-700 border-gray-600 text-gray-100":"border-slate-200",p=l?"bg-gray-700":"bg-slate-50",u=l?"border-gray-700 hover:border-indigo-500":"border-slate-200 hover:border-indigo-300";g.useEffect(()=>{s&&(P(),q())},[s]);const P=async()=>{A(!0);try{const n=await M.getTeamTasks(s);n.success&&i(n.data||[])}catch(n){console.error("Error loading team tasks:",n)}finally{A(!1)}},q=async()=>{try{const n=await Ee.list({status:"pending,in_progress"});n.success&&I(n.data||[])}catch(n){console.error("Error loading available tasks:",n)}},m=async()=>{if(L)try{(await M.shareTask(s,{task_id:L,assigned_to:C||null})).success&&(await P(),B(!1),w(""),z(""))}catch(n){console.error("Error sharing task:",n)}},S=async n=>{if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù„ØºØ§Ø¡ Ù…Ø´Ø§Ø±ÙƒØ© Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‡Ù…Ø©ØŸ"))try{(await M.unshareTask(s,n)).success&&i(j.filter(E=>E.id!==n))}catch(T){console.error("Error unsharing task:",T)}},$=async(n,T)=>{try{(await M.assignTask(s,n,{member_id:T})).success&&await P()}catch(E){console.error("Error assigning task:",E)}},c=n=>{const E={pending:{label:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",class:l?"bg-yellow-900/50 text-yellow-300":"bg-yellow-100 text-yellow-700"},in_progress:{label:"Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°",class:l?"bg-blue-900/50 text-blue-300":"bg-blue-100 text-blue-700"},completed:{label:"Ù…ÙƒØªÙ…Ù„Ø©",class:l?"bg-green-900/50 text-green-300":"bg-green-100 text-green-700"},cancelled:{label:"Ù…Ù„ØºØ§Ø©",class:l?"bg-red-900/50 text-red-300":"bg-red-100 text-red-700"}}[n]||{label:n,class:l?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${E.class}`,children:E.label})},N=n=>{const E={urgent:{label:"Ø¹Ø§Ø¬Ù„Ø©",class:l?"bg-red-900/50 text-red-300":"bg-red-100 text-red-700",icon:"fa-fire"},high:{label:"Ù…Ø±ØªÙØ¹Ø©",class:l?"bg-orange-900/50 text-orange-300":"bg-orange-100 text-orange-700",icon:"fa-arrow-up"},medium:{label:"Ù…ØªÙˆØ³Ø·Ø©",class:l?"bg-yellow-900/50 text-yellow-300":"bg-yellow-100 text-yellow-700",icon:"fa-minus"},low:{label:"Ù…Ù†Ø®ÙØ¶Ø©",class:l?"bg-green-900/50 text-green-300":"bg-green-100 text-green-700",icon:"fa-arrow-down"}}[n]||{label:n,class:l?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700",icon:"fa-circle"};return e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${E.class} flex items-center gap-1`,children:[e.jsx("i",{className:`fas ${E.icon}`}),E.label]})};return e.jsxs("div",{className:`${U} rounded-2xl p-6 border-2 shadow-lg`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:`text-xl font-black ${O} flex items-center`,children:[e.jsx("i",{className:"fas fa-tasks ml-2 text-indigo-500"}),"Ù…Ù‡Ø§Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©"]}),e.jsx(Z,{type:"button",variant:"primary",icon:"fa-plus",onClick:()=>B(!D),size:"sm",children:D?"Ø¥Ù„ØºØ§Ø¡":"Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ù‡Ù…Ø©"})]}),D&&e.jsxs("div",{className:`mb-6 rounded-xl p-4 border-2 ${l?"bg-indigo-900/30 border-indigo-700":"bg-gradient-to-r from-indigo-50 to-blue-50 border-indigo-200"}`,children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:`block text-sm font-bold ${l?"text-gray-300":"text-slate-700"} mb-2`,children:[e.jsx("i",{className:`fas fa-tasks ml-1 ${l?"text-gray-500":"text-slate-400"}`}),"Ø§Ø®ØªØ± Ø§Ù„Ù…Ù‡Ù…Ø©"]}),e.jsxs("select",{className:`form-select w-full border-2 rounded-lg px-3 py-2 ${R}`,value:L,onChange:n=>w(n.target.value),children:[e.jsx("option",{value:"",children:"-- Ø§Ø®ØªØ± Ù…Ù‡Ù…Ø© --"}),y.map(n=>e.jsx("option",{value:n.id,children:n.title},n.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block text-sm font-bold ${l?"text-gray-300":"text-slate-700"} mb-2`,children:[e.jsx("i",{className:`fas fa-user ml-1 ${l?"text-gray-500":"text-slate-400"}`}),"ØªØ¹ÙŠÙŠÙ† Ù„Ø¹Ø¶Ùˆ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"]}),e.jsxs("select",{className:`form-select w-full border-2 rounded-lg px-3 py-2 ${R}`,value:C,onChange:n=>z(n.target.value),children:[e.jsx("option",{value:"",children:"-- Ø¨Ø¯ÙˆÙ† ØªØ¹ÙŠÙŠÙ† --"}),t.map(n=>{var T;return e.jsx("option",{value:n.user_id,children:(T=n.user)==null?void 0:T.name},n.id)})]})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(Z,{type:"button",variant:"success",icon:"fa-share-alt",onClick:m,disabled:!L,children:"Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ù‡Ù…Ø©"})})]}),F?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("i",{className:"fas fa-spinner fa-spin text-3xl text-indigo-500"}),e.jsx("p",{className:`mt-2 ${k}`,children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„..."})]}):j.length===0?e.jsxs("div",{className:`text-center py-12 ${p} rounded-xl`,children:[e.jsx("i",{className:`fas fa-tasks text-4xl ${l?"text-gray-600":"text-slate-300"} mb-3`}),e.jsx("p",{className:k,children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù… Ù…Ø´ØªØ±ÙƒØ© Ø¨Ø¹Ø¯"}),e.jsx("p",{className:`text-xs ${l?"text-gray-500":"text-slate-400"} mt-1`,children:"Ø´Ø§Ø±Ùƒ Ù…Ù‡Ø§Ù…Ùƒ Ù…Ø¹ Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„ÙØ±ÙŠÙ‚ Ù„Ù„ØªØ¹Ø§ÙˆÙ† Ø¹Ù„ÙŠÙ‡Ø§"})]}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:j.map(n=>{var T,E;return e.jsxs("div",{className:`border-2 ${u} rounded-xl p-4 hover:shadow-lg transition-all`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h4",{className:`font-bold ${O} text-lg flex-1`,children:n.title}),e.jsx("button",{onClick:()=>S(n.id),className:"text-red-500 hover:text-red-700 transition-colors",title:"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©",children:e.jsx("i",{className:"fas fa-times-circle text-xl"})})]}),n.description&&e.jsx("p",{className:`text-sm ${k} mb-3 line-clamp-2`,children:n.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[c(n.status),N(n.priority)]}),n.scheduled_date&&e.jsxs("div",{className:`flex items-center gap-2 text-xs ${k} mb-3`,children:[e.jsx("i",{className:"fas fa-calendar"}),e.jsxs("span",{children:["Ù…ÙˆØ¹Ø¯ Ø§Ù„ØªØ³Ù„ÙŠÙ…: ",new Date(n.scheduled_date).toLocaleDateString("ar-SA")]})]}),e.jsxs("div",{className:`border-t ${l?"border-gray-700":"border-slate-200"} pt-3 mt-3`,children:[e.jsxs("label",{className:`block text-xs font-bold ${l?"text-gray-400":"text-slate-600"} mb-2`,children:[e.jsx("i",{className:"fas fa-user-check ml-1"}),"Ù…Ø¹ÙŠÙ‘Ù† Ù„Ù€:"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{className:`form-select flex-1 text-sm border-2 rounded-lg px-2 py-1 ${R}`,value:n.assigned_to||"",onChange:W=>$(n.id,W.target.value),children:[e.jsx("option",{value:"",children:"-- ØºÙŠØ± Ù…Ø¹ÙŠÙ‘Ù† --"}),t.map(W=>{var Q;return e.jsx("option",{value:W.user_id,children:(Q=W.user)==null?void 0:Q.name},W.id)})]}),n.assigned_user&&e.jsxs("div",{className:`flex items-center gap-2 px-2 py-1 rounded-lg ${l?"bg-indigo-900/50":"bg-indigo-100"}`,children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-500 text-white flex items-center justify-center text-xs font-bold",children:(T=n.assigned_user.name)==null?void 0:T.charAt(0)}),e.jsx("span",{className:`text-xs font-bold ${l?"text-indigo-300":"text-indigo-700"}`,children:n.assigned_user.name})]})]})]}),e.jsxs("div",{className:`flex items-center justify-between mt-3 pt-3 border-t ${l?"border-gray-700":"border-slate-200"}`,children:[e.jsxs("span",{className:`text-xs ${l?"text-gray-500":"text-slate-400"}`,children:[e.jsx("i",{className:"fas fa-user ml-1"}),"Ø´Ø§Ø±ÙƒÙ‡Ø§: ",(E=n.shared_by)==null?void 0:E.name]}),e.jsxs("a",{href:`/tasks?task_id=${n.id}`,className:"text-xs text-indigo-600 hover:text-indigo-800 font-bold flex items-center gap-1",children:["Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„",e.jsx("i",{className:"fas fa-external-link-alt"})]})]})]},n.id)})})]})},Ie=({teamId:s,teamName:h})=>{var R;const{darkMode:t}=G(),[l,j]=g.useState(null),[i,y]=g.useState(!1),[I,F]=g.useState("week"),A=g.useRef(null),D=g.useRef(null),B=g.useRef(null),L=g.useRef(null),w=t?"bg-gray-800 border-gray-700":"bg-white border-slate-200",C=t?"text-gray-100":"text-slate-800",z=t?"text-gray-400":"text-slate-500",U=t?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-slate-100 text-slate-700 hover:bg-slate-200";g.useEffect(()=>{s&&O()},[s,I]),g.useEffect(()=>(l&&k(),()=>{B.current&&B.current.destroy(),L.current&&L.current.destroy()}),[l,t]);const O=async()=>{y(!0);try{const p=await M.getAnalytics(s,{period:I});p.success&&j(p.data)}catch(p){console.error("Error loading analytics:",p)}finally{y(!1)}},k=()=>{var P,q,m,S;if(!l)return;const p=t?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",u=t?"#e5e7eb":"#334155";A.current&&(B.current&&B.current.destroy(),B.current=new we(A.current,{type:"line",data:{labels:((P=l.activity_timeline)==null?void 0:P.map($=>$.date))||[],datasets:[{label:"Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª",data:((q=l.activity_timeline)==null?void 0:q.map($=>$.count))||[],borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",tension:.4,fill:!0,borderWidth:3}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1,color:u},grid:{color:p}},x:{ticks:{color:u},grid:{color:p}}}}})),D.current&&(L.current&&L.current.destroy(),L.current=new we(D.current,{type:"doughnut",data:{labels:((m=l.member_activity)==null?void 0:m.map($=>$.member_name))||[],datasets:[{data:((S=l.member_activity)==null?void 0:S.map($=>$.activity_count))||[],backgroundColor:["rgba(99, 102, 241, 0.8)","rgba(168, 85, 247, 0.8)","rgba(59, 130, 246, 0.8)","rgba(34, 197, 94, 0.8)","rgba(251, 146, 60, 0.8)"],borderWidth:2,borderColor:t?"#1f2937":"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12},color:u}}}}}))};return i?e.jsx("div",{className:`${w} rounded-2xl p-6 border-2 shadow-lg`,children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"fas fa-spinner fa-spin text-4xl text-indigo-500 mb-4"}),e.jsx("p",{className:z,children:"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`${w} rounded-2xl p-6 border-2 shadow-lg`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:`text-xl font-black ${C} flex items-center`,children:[e.jsx("i",{className:"fas fa-chart-line ml-2 text-indigo-500"}),"ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„ÙØ±ÙŠÙ‚"]}),e.jsx("div",{className:"flex gap-2",children:["week","month","year"].map(p=>e.jsx("button",{onClick:()=>F(p),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${I===p?"bg-indigo-500 text-white shadow-md":U}`,children:p==="week"?"Ø£Ø³Ø¨ÙˆØ¹":p==="month"?"Ø´Ù‡Ø±":"Ø³Ù†Ø©"},p))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:`${t?"bg-blue-900/30 border-blue-700":"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200"} rounded-xl p-4 border-2`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-xs font-bold ${t?"text-blue-400":"text-blue-600"} mb-1`,children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª"}),e.jsx("p",{className:`text-3xl font-black ${t?"text-blue-200":"text-blue-900"}`,children:(l==null?void 0:l.total_activities)||0})]}),e.jsx("i",{className:"fas fa-chart-bar text-3xl text-blue-500"})]})}),e.jsx("div",{className:`${t?"bg-green-900/30 border-green-700":"bg-gradient-to-br from-green-50 to-green-100 border-green-200"} rounded-xl p-4 border-2`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-xs font-bold ${t?"text-green-400":"text-green-600"} mb-1`,children:"Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©"}),e.jsx("p",{className:`text-3xl font-black ${t?"text-green-200":"text-green-900"}`,children:(l==null?void 0:l.completed_tasks)||0})]}),e.jsx("i",{className:"fas fa-check-circle text-3xl text-green-500"})]})}),e.jsx("div",{className:`${t?"bg-purple-900/30 border-purple-700":"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200"} rounded-xl p-4 border-2`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-xs font-bold ${t?"text-purple-400":"text-purple-600"} mb-1`,children:"Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù†Ø´Ø·ÙˆÙ†"}),e.jsx("p",{className:`text-3xl font-black ${t?"text-purple-200":"text-purple-900"}`,children:(l==null?void 0:l.active_members)||0})]}),e.jsx("i",{className:"fas fa-users text-3xl text-purple-500"})]})}),e.jsx("div",{className:`${t?"bg-orange-900/30 border-orange-700":"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200"} rounded-xl p-4 border-2`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-xs font-bold ${t?"text-orange-400":"text-orange-600"} mb-1`,children:"Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²"}),e.jsxs("p",{className:`text-3xl font-black ${t?"text-orange-200":"text-orange-900"}`,children:[(l==null?void 0:l.completion_rate)||0,"%"]})]}),e.jsx("i",{className:"fas fa-trophy text-3xl text-orange-500"})]})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:`${w} rounded-2xl p-6 border-2 shadow-lg`,children:[e.jsxs("h4",{className:`text-lg font-black ${C} mb-4 flex items-center`,children:[e.jsx("i",{className:"fas fa-chart-area ml-2 text-indigo-500"}),"Ø®Ø· Ø²Ù…Ù†ÙŠ Ù„Ù„Ù†Ø´Ø§Ø·Ø§Øª"]}),e.jsx("div",{style:{height:"300px"},children:e.jsx("canvas",{ref:A})})]}),e.jsxs("div",{className:`${w} rounded-2xl p-6 border-2 shadow-lg`,children:[e.jsxs("h4",{className:`text-lg font-black ${C} mb-4 flex items-center`,children:[e.jsx("i",{className:"fas fa-user-chart ml-2 text-indigo-500"}),"Ù…Ø³Ø§Ù‡Ù…Ø§Øª Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡"]}),e.jsx("div",{style:{height:"300px"},children:e.jsx("canvas",{ref:D})})]})]}),e.jsxs("div",{className:`${w} rounded-2xl p-6 border-2 shadow-lg`,children:[e.jsxs("h4",{className:`text-lg font-black ${C} mb-4 flex items-center`,children:[e.jsx("i",{className:"fas fa-medal ml-2 text-yellow-500"}),"Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø£ÙƒØ«Ø± Ù†Ø´Ø§Ø·Ø§Ù‹"]}),e.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:(R=l==null?void 0:l.top_members)==null?void 0:R.slice(0,3).map((p,u)=>e.jsx("div",{className:`p-4 rounded-xl border-2 ${u===0?t?"bg-yellow-900/30 border-yellow-700":"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-300":u===1?t?"bg-gray-700 border-gray-600":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-300":t?"bg-orange-900/30 border-orange-700":"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-300"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-2xl ${u===0?"bg-yellow-500 text-white":u===1?"bg-gray-400 text-white":"bg-orange-500 text-white"}`,children:u===0?"ğŸ¥‡":u===1?"ğŸ¥ˆ":"ğŸ¥‰"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-bold ${C}`,children:p.name}),e.jsxs("p",{className:`text-sm ${z}`,children:[p.activity_count," Ù†Ø´Ø§Ø·"]})]})]})},p.id))})]}),(l==null?void 0:l.achievements)&&l.achievements.length>0&&e.jsxs("div",{className:`${w} rounded-2xl p-6 border-2 shadow-lg`,children:[e.jsxs("h4",{className:`text-lg font-black ${C} mb-4 flex items-center`,children:[e.jsx("i",{className:"fas fa-star ml-2 text-yellow-500"}),"Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©"]}),e.jsx("div",{className:"space-y-2",children:l.achievements.map((p,u)=>e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border ${t?"bg-yellow-900/20 border-yellow-800":"bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200"}`,children:[e.jsx("div",{className:"text-2xl",children:p.icon||"ğŸ†"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-bold ${C}`,children:p.title}),e.jsx("p",{className:`text-xs ${z}`,children:p.description})]}),e.jsx("span",{className:`text-xs ${t?"text-gray-500":"text-slate-400"}`,children:p.date})]},u))})]})]})};function Ge(){var de,ie,oe,ce,xe,me,ge,be,he,ue,fe,pe,je,ye,Ne;const{darkMode:s}=G(),[h,t]=g.useState([]),[l,j]=g.useState(null),[i,y]=g.useState(null),[I,F]=g.useState(!0),[A,D]=g.useState(!1),[B,L]=g.useState(!1),[w,C]=g.useState({courses:[],projects:[]}),[z,U]=g.useState(""),[O,k]=g.useState(""),[R,p]=g.useState(""),[u,P]=g.useState(null),[q,m]=g.useState({total:0,ownedTeams:0,memberTeams:0,totalMembers:0}),[S,$]=g.useState({name:"",description:""}),[c,N]=g.useState(!1),[n,T]=g.useState({name:"",description:""}),[E,W]=g.useState(!1),[Q,J]=g.useState({email:"",role:"member"}),[ee,Y]=g.useState(!1),V=g.useMemo(()=>({owner:"Ù…Ø§Ù„Ùƒ",member:"Ø¹Ø¶Ùˆ",viewer:"Ù…Ø´Ø§Ù‡Ø¯"}),[]),f=g.useCallback(a=>{U(a),setTimeout(()=>{U("")},5e3)},[]),H=g.useCallback(a=>{t(o=>[...o.some(d=>d.id===a.id)?o.map(d=>d.id===a.id?a:d):[...o,a]].sort((d,_)=>d.name.localeCompare(_.name,"ar")))},[]),se=g.useCallback(async a=>{var o,b,r,d,_;L(!0);try{const x=await M.getResourceOptions(a);x.success?C({courses:((o=x.data)==null?void 0:o.courses)??[],projects:((b=x.data)==null?void 0:b.projects)??[]}):f(x.message||"ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…ØªØ§Ø­Ø©.")}catch(x){if((x==null?void 0:x.name)==="CanceledError"||(x==null?void 0:x.code)==="ERR_CANCELED"){L(!1);return}const v=((d=(r=x==null?void 0:x.response)==null?void 0:r.data)==null?void 0:d.message)||(x==null?void 0:x.message);v&&!v.includes("timeout")&&!v.includes("canceled")?f(v):((_=x==null?void 0:x.response)==null?void 0:_.status)>=500?f("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹"):x!=null&&x.response||console.error("Network error loading resource options:",x)}finally{L(!1)}},[f]),K=g.useCallback(async(a,{silent:o=!1}={})=>{var b,r,d,_;k(""),U(""),o||D(!0);try{const x=await M.getTeam(a);if(x.success){const v=x.data;j(a),y(v),T({name:v.name??"",description:v.description??""}),H(v),(b=v.permissions)!=null&&b.manage_resources?await se(a):C({courses:[],projects:[]})}else f(x.message||"ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙØ±ÙŠÙ‚.")}catch(x){if((x==null?void 0:x.name)==="CanceledError"||(x==null?void 0:x.code)==="ERR_CANCELED"){o||D(!1);return}const v=((d=(r=x==null?void 0:x.response)==null?void 0:r.data)==null?void 0:d.message)||(x==null?void 0:x.message);v&&!v.includes("timeout")&&!v.includes("canceled")?f(v):((_=x==null?void 0:x.response)==null?void 0:_.status)>=500?f("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹"):x!=null&&x.response||console.error("Network error loading team details:",x)}finally{o||D(!1)}},[se,f,H]),X=g.useCallback(async()=>{var a,o,b;F(!0);try{const r=await M.getTeams();if(r.success){const _=(Array.isArray(r.data)?r.data:[]).sort((v,ne)=>v.name.localeCompare(ne.name,"ar"));t(_);const x={total:_.length,ownedTeams:_.filter(v=>v.current_role==="owner").length,memberTeams:_.filter(v=>v.current_role!=="owner").length,totalMembers:_.reduce((v,ne)=>{var ve;return v+(((ve=ne.members)==null?void 0:ve.length)||0)},0)};if(m(x),_.length>0){const v=_[0].id;j(v),await K(v,{silent:!0})}else y(null),j(null)}else f(r.message||"ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ±Ù‚.")}catch(r){if((r==null?void 0:r.name)==="CanceledError"||(r==null?void 0:r.code)==="ERR_CANCELED"){F(!1);return}const d=((o=(a=r==null?void 0:r.response)==null?void 0:a.data)==null?void 0:o.message)||(r==null?void 0:r.message);d&&!d.includes("timeout")&&!d.includes("canceled")?f(d):((b=r==null?void 0:r.response)==null?void 0:b.status)>=500?f("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹"):r!=null&&r.response||console.error("Network error loading teams:",r)}finally{F(!1)}},[K,f]);g.useEffect(()=>{X()},[X]);const $e=async a=>{var o,b;a.preventDefault(),N(!0),k("");try{const r=await M.createTeam(S);if(r.success){const d=r.data;H(d),$({name:"",description:""}),k(r.message||"ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±ÙŠÙ‚ Ø¨Ù†Ø¬Ø§Ø­."),await K(d.id,{silent:!0}),j(d.id),await X()}else f(r.message||"ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±ÙŠÙ‚.")}catch(r){const d=((b=(o=r.response)==null?void 0:o.data)==null?void 0:b.message)||"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±ÙŠÙ‚.";f(d)}finally{N(!1)}},ke=async a=>{var o,b;if(a.preventDefault(),!!i){W(!0);try{const r=await M.updateTeam(i.id,n);if(r.success){const d=r.data;y(d),H(d),k(r.message||"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±ÙŠÙ‚.")}else f(r.message||"ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±ÙŠÙ‚.")}catch(r){const d=((b=(o=r.response)==null?void 0:o.data)==null?void 0:b.message)||"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±ÙŠÙ‚.";f(d)}finally{W(!1)}}},_e=async()=>{var a,o;if(i&&confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø±ØºØ¨ØªÙƒ ÙÙŠ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ÙØ±ÙŠÙ‚ØŸ"))try{const b=await M.deleteTeam(i.id);if(b.success){k(b.message||"ØªÙ… Ø­Ø°Ù Ø§Ù„ÙØ±ÙŠÙ‚.");const r=h.filter(d=>d.id!==i.id);if(t(r),r.length>0){const d=r[0];j(d.id),await K(d.id,{silent:!0})}else y(null),j(null);await X()}else f(b.message||"ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„ÙØ±ÙŠÙ‚.")}catch(b){const r=((o=(a=b.response)==null?void 0:a.data)==null?void 0:o.message)||"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„ÙØ±ÙŠÙ‚.";f(r)}},Ce=async a=>{var o,b;if(a.preventDefault(),!!i){Y(!0);try{const r=await M.addMember(i.id,Q);if(r.success){const d=r.data;y(d),H(d),J({email:"",role:"member"}),k(r.message||"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø¶Ùˆ."),await X()}else f(r.message||"ØªØ¹Ø°Ø± Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø¶Ùˆ.")}catch(r){const d=((b=(o=r.response)==null?void 0:o.data)==null?void 0:b.message)||"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø¶Ùˆ.";f(d)}finally{Y(!1)}}},Se=async(a,o)=>{var b,r;if(i)try{const d=await M.updateMember(i.id,a,{role:o});if(d.success){const _=d.data;y(_),H(_),k(d.message||"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¯ÙˆØ± Ø§Ù„Ø¹Ø¶Ùˆ.")}else f(d.message||"ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø¯ÙˆØ± Ø§Ù„Ø¹Ø¶Ùˆ.")}catch(d){const _=((r=(b=d.response)==null?void 0:b.data)==null?void 0:r.message)||"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ø¯ÙˆØ± Ø§Ù„Ø¹Ø¶Ùˆ.";f(_)}},Te=async a=>{var o,b;if(i&&confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø²Ø§Ù„Ø© Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø¶Ùˆ Ù…Ù† Ø§Ù„ÙØ±ÙŠÙ‚ØŸ"))try{const r=await M.removeMember(i.id,a);if(r.success){const d=r.data;y(d),H(d),k(r.message||"ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ø¶Ùˆ Ù…Ù† Ø§Ù„ÙØ±ÙŠÙ‚."),await X()}else f(r.message||"ØªØ¹Ø°Ø± Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ø¶Ùˆ.")}catch(r){const d=((b=(o=r.response)==null?void 0:o.data)==null?void 0:b.message)||"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ø¶Ùˆ.";f(d)}},Me=async a=>{var o,b;if(i)try{const r=a.shared?await M.unshareCourse(i.id,a.id):await M.shareCourse(i.id,a.id);if(r.success){const d=r.data;y(d),H(d),k(r.message||"ØªÙ… ØªØ­Ø¯ÙŠØ« Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø¯ÙˆØ±Ø©."),await se(i.id)}else f(r.message||"ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø¯ÙˆØ±Ø©.")}catch(r){const d=((b=(o=r.response)==null?void 0:o.data)==null?void 0:b.message)||"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø¯ÙˆØ±Ø©.";f(d)}},Ae=async a=>{var o,b;if(i)try{const r=a.shared?await M.unshareProject(i.id,a.id):await M.shareProject(i.id,a.id);if(r.success){const d=r.data;y(d),H(d),k(r.message||"ØªÙ… ØªØ­Ø¯ÙŠØ« Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹."),await se(i.id)}else f(r.message||"ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹.")}catch(r){const d=((b=(o=r.response)==null?void 0:o.data)==null?void 0:b.message)||"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹.";f(d)}},ae=(i==null?void 0:i.members)??[],te=(i==null?void 0:i.courses)??[],re=(i==null?void 0:i.projects)??[],le=g.useMemo(()=>R?h.filter(a=>{var o;return a.name.toLowerCase().includes(R.toLowerCase())||((o=a.description)==null?void 0:o.toLowerCase().includes(R.toLowerCase()))}):h,[h,R]);return e.jsxs("div",{className:`min-h-screen p-6 transition-colors duration-300 ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/30"}`,dir:"rtl",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:`text-4xl font-black mb-2 ${s?"text-gray-100":"text-gray-900"}`,children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±Ù‚"}),e.jsx("p",{className:s?"text-gray-400":"text-gray-600",children:"ØªØ¹Ø§ÙˆÙ† Ù…Ø¹ ÙØ±ÙŠÙ‚Ùƒ ÙˆØ´Ø§Ø±Ùƒ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:`rounded-xl shadow-sm border-2 p-6 hover:shadow-lg transition-shadow ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm mb-1 ${s?"text-gray-400":"text-gray-600"}`,children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ±Ù‚"}),e.jsx("p",{className:`text-3xl font-black ${s?"text-gray-100":"text-gray-900"}`,children:q.total})]}),e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-users text-white text-2xl"})})]})}),e.jsx("div",{className:`rounded-xl shadow-sm border-2 p-6 hover:shadow-lg transition-shadow ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm mb-1 ${s?"text-gray-400":"text-gray-600"}`,children:"Ø§Ù„ÙØ±Ù‚ Ø§Ù„ØªÙŠ Ø£Ù…Ù„ÙƒÙ‡Ø§"}),e.jsx("p",{className:`text-3xl font-black ${s?"text-gray-100":"text-gray-900"}`,children:q.ownedTeams})]}),e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-crown text-white text-2xl"})})]})}),e.jsx("div",{className:`rounded-xl shadow-sm border-2 p-6 hover:shadow-lg transition-shadow ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm mb-1 ${s?"text-gray-400":"text-gray-600"}`,children:"ÙØ±Ù‚ Ø£Ù†Ø§ Ø¹Ø¶Ùˆ ÙÙŠÙ‡Ø§"}),e.jsx("p",{className:`text-3xl font-black ${s?"text-gray-100":"text-gray-900"}`,children:q.memberTeams})]}),e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-user-friends text-white text-2xl"})})]})}),e.jsx("div",{className:`rounded-xl shadow-sm border-2 p-6 hover:shadow-lg transition-shadow ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm mb-1 ${s?"text-gray-400":"text-gray-600"}`,children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡"}),e.jsx("p",{className:`text-3xl font-black ${s?"text-gray-100":"text-gray-900"}`,children:q.totalMembers})]}),e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-user-plus text-white text-2xl"})})]})})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[O&&e.jsxs("div",{className:`border-2 rounded-xl px-4 py-3 text-sm font-semibold ${s?"bg-emerald-900/30 border-emerald-700 text-emerald-300":"bg-emerald-50 border-emerald-200 text-emerald-700"}`,children:[e.jsx("i",{className:"fas fa-check-circle ml-2"}),O]}),z&&e.jsx(Le,{type:"error",message:z,onClose:()=>U("")})]}),I?e.jsx(De,{}):e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[e.jsxs("div",{className:`rounded-2xl p-6 border-2 shadow-lg ${s?"bg-gray-800 border-gray-700":"bg-white border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center ml-3",children:e.jsx("i",{className:"fas fa-plus text-white"})}),e.jsx("h2",{className:`text-xl font-black ${s?"text-gray-100":"text-slate-800"}`,children:"Ø¥Ù†Ø´Ø§Ø¡ ÙØ±ÙŠÙ‚ Ø¬Ø¯ÙŠØ¯"})]}),e.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"new-team-name",className:`text-sm font-bold flex items-center ${s?"text-gray-300":"text-slate-700"}`,children:[e.jsx("i",{className:`fas fa-tag ml-2 ${s?"text-gray-500":"text-slate-400"}`}),"Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚"]}),e.jsx("input",{id:"new-team-name",type:"text",required:!0,className:`form-input w-full border-2 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-200 ${s?"bg-gray-700 border-gray-600 text-gray-100 focus:border-indigo-500":"border-slate-200 focus:border-indigo-500"}`,value:S.name,onChange:a=>$(o=>({...o,name:a.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"new-team-description",className:`text-sm font-bold flex items-center ${s?"text-gray-300":"text-slate-700"}`,children:[e.jsx("i",{className:`fas fa-align-right ml-2 ${s?"text-gray-500":"text-slate-400"}`}),"ÙˆØµÙ Ù…Ø®ØªØµØ± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"]}),e.jsx("textarea",{id:"new-team-description",rows:3,className:`form-textarea w-full border-2 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-200 ${s?"bg-gray-700 border-gray-600 text-gray-100 focus:border-indigo-500":"border-slate-200 focus:border-indigo-500"}`,value:S.description,onChange:a=>$(o=>({...o,description:a.target.value}))})]}),e.jsx(Z,{type:"submit",variant:"secondary",fullWidth:!0,loading:c,icon:"fa-plus",size:"lg",children:"Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±ÙŠÙ‚"})]})]}),e.jsxs("div",{className:`rounded-2xl border-2 shadow-lg overflow-hidden ${s?"bg-gray-800 border-gray-700":"bg-white border-slate-200"}`,children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 p-4 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-black text-white flex items-center",children:[e.jsx("i",{className:"fas fa-list ml-2"}),"Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙØ±Ù‚"]}),e.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full text-sm text-white font-bold",children:le.length})]}),e.jsx("div",{className:`p-4 border-b ${s?"border-gray-700":"border-slate-200"}`,children:e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:`fas fa-search absolute right-3 top-1/2 transform -translate-y-1/2 ${s?"text-gray-500":"text-slate-400"}`}),e.jsx("input",{type:"text",placeholder:"Ø§Ø¨Ø­Ø« Ø¹Ù† ÙØ±ÙŠÙ‚...",className:`w-full pr-10 pl-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-indigo-200 ${s?"bg-gray-700 border-gray-600 text-gray-100 placeholder-gray-500 focus:border-indigo-500":"border-slate-200 focus:border-indigo-500"}`,value:R,onChange:a=>p(a.target.value)})]})}),e.jsxs("div",{className:`divide-y max-h-96 overflow-y-auto ${s?"divide-gray-700":"divide-slate-100"}`,children:[le.length===0&&e.jsx("p",{className:`p-4 text-sm text-center ${s?"text-gray-500":"text-slate-500"}`,children:R?"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù„Ø¨Ø­Ø«":"Ù„Ø§ ØªÙˆØ¬Ø¯ ÙØ±Ù‚ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†."}),le.map(a=>{var o;return e.jsx("div",{className:`p-4 transition ${l===a.id?s?"bg-gradient-to-r from-indigo-900/50 to-blue-900/50 border-r-4 border-indigo-500":"bg-gradient-to-r from-indigo-50 to-blue-50 border-r-4 border-indigo-500":s?"hover:bg-gray-700/50":"hover:bg-slate-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:()=>K(a.id),className:"flex-1 text-right",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`font-bold ${l===a.id?"text-indigo-500":s?"text-gray-200":"text-slate-700"}`,children:a.name}),a.current_role==="owner"&&e.jsx("i",{className:"fas fa-crown text-yellow-500 text-xs"})]}),a.description&&e.jsx("p",{className:`text-xs mt-1 line-clamp-1 ${s?"text-gray-500":"text-slate-500"}`,children:a.description}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsxs("span",{className:`text-xs flex items-center ${s?"text-gray-500":"text-slate-500"}`,children:[e.jsx("i",{className:`fas fa-users ml-1 ${s?"text-gray-600":"text-slate-400"}`}),((o=a.members)==null?void 0:o.length)??0," Ø¹Ø¶Ùˆ"]}),a.current_role&&e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${s?"bg-gray-700 text-gray-300":"bg-slate-100 text-slate-600"}`,children:V[a.current_role]??a.current_role})]})]})})}),e.jsx("button",{onClick:()=>P(a),className:`px-3 py-2 rounded-lg transition-all border-2 border-transparent ${s?"text-indigo-400 hover:bg-indigo-900/30 hover:border-indigo-700":"text-indigo-600 hover:bg-indigo-100 hover:border-indigo-200 hover:shadow-md"}`,title:"Ø¹Ø±Ø¶ Ø³Ø±ÙŠØ¹",children:e.jsx("i",{className:"fas fa-eye text-lg"})})]})},a.id)})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:A||!i?l?e.jsx(Re,{}):e.jsx("div",{className:`rounded-2xl p-6 border-2 shadow-lg ${s?"bg-gray-800 border-gray-700":"bg-white border-slate-200"}`,children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${s?"bg-gray-700":"bg-slate-100"}`,children:e.jsx("i",{className:`fas fa-users text-3xl ${s?"text-gray-500":"text-slate-400"}`})}),e.jsx("p",{className:`font-semibold ${s?"text-gray-400":"text-slate-500"}`,children:"Ø§Ø®ØªØ± ÙØ±ÙŠÙ‚Ø§Ù‹ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø£Ùˆ Ø£Ù†Ø´Ø¦ ÙØ±ÙŠÙ‚Ø§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`rounded-2xl p-6 border-2 shadow-lg space-y-6 ${s?"bg-gray-800 border-gray-700":"bg-white border-slate-200"}`,children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 -m-6 mb-6 p-6 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl bg-white/20 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-users text-white text-2xl"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white",children:i.name}),e.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-2 mt-1",children:[e.jsx("i",{className:"fas fa-crown text-yellow-300"}),(de=i.owner)==null?void 0:de.name," (",(ie=i.owner)==null?void 0:ie.email,")"]})]})]}),((oe=i.permissions)==null?void 0:oe.manage_team)&&e.jsx(Z,{type:"button",variant:"danger",icon:"fa-trash",onClick:_e,size:"md",children:"Ø­Ø°Ù Ø§Ù„ÙØ±ÙŠÙ‚"})]})}),(ce=i.permissions)!=null&&ce.manage_team?e.jsx("form",{onSubmit:ke,className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:`text-sm font-bold flex items-center ${s?"text-gray-300":"text-slate-700"}`,children:[e.jsx("i",{className:`fas fa-tag ml-2 ${s?"text-gray-500":"text-slate-400"}`}),"Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚"]}),e.jsx("input",{type:"text",required:!0,className:`form-input w-full border-2 rounded-lg px-4 py-2 ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-slate-200"}`,value:n.name,onChange:a=>T(o=>({...o,name:a.target.value}))})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs("label",{className:`text-sm font-bold flex items-center ${s?"text-gray-300":"text-slate-700"}`,children:[e.jsx("i",{className:`fas fa-align-right ml-2 ${s?"text-gray-500":"text-slate-400"}`}),"ÙˆØµÙ Ø§Ù„ÙØ±ÙŠÙ‚"]}),e.jsx("textarea",{rows:3,className:`form-textarea w-full border-2 rounded-lg px-4 py-2 ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-slate-200"}`,value:n.description,onChange:a=>T(o=>({...o,description:a.target.value}))})]}),e.jsx("div",{className:"md:col-span-2 flex justify-end",children:e.jsx(Z,{type:"submit",variant:"primary",loading:E,icon:"fa-save",size:"lg",children:"Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª"})})]})}):e.jsx("div",{className:`rounded-xl p-4 border-2 ${s?"bg-gray-700 border-gray-600":"bg-slate-50 border-slate-200"}`,children:e.jsx("p",{className:s?"text-gray-300":"text-slate-700",children:i.description||"Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ Ù„Ù‡Ø°Ø§ Ø§Ù„ÙØ±ÙŠÙ‚."})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsx("div",{className:"rounded-xl border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100/50 p-5 hover:shadow-lg transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-blue-600 mb-1",children:"Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡"}),e.jsx("p",{className:"text-3xl font-black text-blue-900",children:ae.length})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-500 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-users text-white text-xl"})})]})}),e.jsx("div",{className:"rounded-xl border-2 border-green-200 bg-gradient-to-br from-green-50 to-green-100/50 p-5 hover:shadow-lg transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-green-600 mb-1",children:"Ø¯ÙˆØ±Ø§Øª Ù…Ø´ØªØ±ÙƒØ©"}),e.jsx("p",{className:"text-3xl font-black text-green-900",children:te.length})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-500 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-book text-white text-xl"})})]})}),e.jsx("div",{className:"rounded-xl border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-purple-100/50 p-5 hover:shadow-lg transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-purple-600 mb-1",children:"Ù…Ø´Ø§Ø±ÙŠØ¹ Ù…Ø´ØªØ±ÙƒØ©"}),e.jsx("p",{className:"text-3xl font-black text-purple-900",children:re.length})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-500 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-folder text-white text-xl"})})]})})]})]}),e.jsxs("div",{className:`rounded-2xl p-6 border-2 shadow-lg space-y-4 ${s?"bg-gray-800 border-gray-700":"bg-white border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:`text-xl font-black flex items-center ${s?"text-gray-100":"text-slate-800"}`,children:[e.jsx("i",{className:"fas fa-user-friends ml-2 text-indigo-500"}),"Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„ÙØ±ÙŠÙ‚"]}),((xe=i.permissions)==null?void 0:xe.manage_members)&&e.jsx("span",{className:`text-xs px-3 py-1 rounded-full ${s?"bg-gray-700 text-gray-400":"bg-slate-100 text-slate-500"}`,children:"ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø£Ø¹Ø¶Ø§Ø¡ Ø£Ùˆ ØªØ¹Ø¯ÙŠÙ„ Ø£Ø¯ÙˆØ§Ø±Ù‡Ù…"})]}),((me=i.permissions)==null?void 0:me.manage_members)&&e.jsx("form",{onSubmit:Ce,className:`rounded-xl p-4 border-2 ${s?"bg-gradient-to-r from-gray-700 to-gray-700/50 border-gray-600":"bg-gradient-to-r from-slate-50 to-blue-50/30 border-slate-200"}`,children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx("input",{type:"email",required:!0,className:`form-input w-full border-2 rounded-lg px-4 py-2 ${s?"bg-gray-600 border-gray-500 text-gray-100 placeholder-gray-400":"border-slate-200"}`,placeholder:"member@example.com",value:Q.email,onChange:a=>J(o=>({...o,email:a.target.value}))})}),e.jsx("div",{children:e.jsx("select",{className:`form-select w-full border-2 rounded-lg px-4 py-2 ${s?"bg-gray-600 border-gray-500 text-gray-100":"border-slate-200"}`,value:Q.role,onChange:a=>J(o=>({...o,role:a.target.value})),children:Object.keys(V).map(a=>e.jsx("option",{value:a,children:V[a]},a))})}),e.jsx("div",{className:"md:col-span-3 flex justify-end",children:e.jsx(Z,{type:"submit",variant:"success",loading:ee,icon:"fa-user-plus",size:"lg",children:"Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø¶Ùˆ"})})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:`min-w-full divide-y-2 text-sm ${s?"divide-gray-700":"divide-slate-200"}`,children:[e.jsx("thead",{className:s?"bg-gradient-to-r from-gray-700 to-gray-700/50 text-gray-200":"bg-gradient-to-r from-slate-100 to-blue-100/30 text-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-right font-black",children:"Ø§Ù„Ø¹Ø¶Ùˆ"}),e.jsx("th",{className:"px-4 py-3 text-right font-black",children:"Ø§Ù„Ø¯ÙˆØ±"}),e.jsx("th",{className:"px-4 py-3 text-right font-black",children:"Ø§Ù„ØªØ­ÙƒÙ…"})]})}),e.jsx("tbody",{className:s?"divide-y divide-gray-700":"divide-y divide-slate-100",children:ae.map(a=>{var o,b,r,d,_;return e.jsxs("tr",{className:s?"hover:bg-gray-700/50 transition-colors":"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center text-white font-bold",children:((b=(o=a.user)==null?void 0:o.name)==null?void 0:b.charAt(0))||"U"}),e.jsxs("div",{children:[e.jsxs("div",{className:`font-bold flex items-center gap-2 ${s?"text-gray-100":"text-slate-800"}`,children:[(r=a.user)==null?void 0:r.name,a.is_owner&&e.jsx("i",{className:"fas fa-crown text-yellow-500 text-xs"})]}),e.jsx("div",{className:`text-xs ${s?"text-gray-500":"text-slate-500"}`,children:(d=a.user)==null?void 0:d.email})]})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${s?"bg-gray-700 text-gray-300":"bg-slate-100 text-slate-700"}`,children:V[a.role]??a.role})}),e.jsx("td",{className:"px-4 py-3",children:(_=i.permissions)!=null&&_.manage_members?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{className:`form-select text-xs border-2 rounded-lg px-3 py-1 ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-slate-200"}`,value:a.role,onChange:x=>Se(a.id,x.target.value),disabled:a.is_owner,children:Object.keys(V).map(x=>e.jsx("option",{value:x,children:V[x]},x))}),e.jsx(Z,{type:"button",variant:"danger",icon:"fa-user-minus",disabled:a.is_owner,onClick:()=>Te(a.id),size:"sm",children:"Ø¥Ø²Ø§Ù„Ø©"})]}):e.jsx("span",{className:`text-xs ${s?"text-gray-600":"text-slate-400"}`,children:"â€”"})})]},a.id)})})]})})]}),((ge=i.permissions)==null?void 0:ge.manage_resources)&&e.jsxs("div",{className:`rounded-2xl p-6 border-2 shadow-lg space-y-4 ${s?"bg-gray-800 border-gray-700":"bg-white border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:`text-xl font-black flex items-center ${s?"text-gray-100":"text-slate-800"}`,children:[e.jsx("i",{className:"fas fa-share-alt ml-2 text-indigo-500"}),"Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©"]}),B&&e.jsxs("span",{className:`text-xs flex items-center gap-2 ${s?"text-gray-500":"text-slate-400"}`,children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©..."]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"border-2 border-slate-200 rounded-xl p-4 bg-gradient-to-br from-slate-50 to-blue-50/20",children:[e.jsxs("h4",{className:"text-sm font-black text-slate-700 mb-3 flex items-center",children:[e.jsx("i",{className:"fas fa-book ml-2 text-green-500"}),"Ø§Ù„Ø¯ÙˆØ±Ø§Øª"]}),w.courses.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"Ù„Ø§ ØªÙ…Ù„Ùƒ Ø£ÙŠ Ø¯ÙˆØ±Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹."}):e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:w.courses.map(a=>e.jsxs("label",{className:"flex items-center justify-between gap-3 border-2 border-slate-200 rounded-lg px-4 py-3 hover:bg-white hover:shadow-md transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-bold text-slate-800",children:a.name}),e.jsxs("p",{className:"text-xs text-slate-400 flex items-center gap-1 mt-1",children:[e.jsx("i",{className:`fas fa-circle text-xs ${a.active?"text-green-500":"text-gray-400"}`}),a.active?"Ù†Ø´Ø·Ø©":"ØºÙŠØ± Ù†Ø´Ø·Ø©"]})]}),e.jsx("input",{type:"checkbox",checked:a.shared,onChange:()=>Me(a),className:"w-5 h-5 text-indigo-600 rounded focus:ring-2 focus:ring-indigo-500"})]},a.id))})]}),e.jsxs("div",{className:"border-2 border-slate-200 rounded-xl p-4 bg-gradient-to-br from-slate-50 to-purple-50/20",children:[e.jsxs("h4",{className:"text-sm font-black text-slate-700 mb-3 flex items-center",children:[e.jsx("i",{className:"fas fa-folder ml-2 text-purple-500"}),"Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹"]}),w.projects.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"Ù„Ø§ ØªÙ…Ù„Ùƒ Ø£ÙŠ Ù…Ø´Ø§Ø±ÙŠØ¹ Ø­Ø§Ù„ÙŠØ§Ù‹."}):e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:w.projects.map(a=>e.jsxs("label",{className:"flex items-center justify-between gap-3 border-2 border-slate-200 rounded-lg px-4 py-3 hover:bg-white hover:shadow-md transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-bold text-slate-800",children:a.name}),e.jsxs("p",{className:"text-xs text-slate-400 flex items-center gap-1 mt-1",children:[e.jsx("i",{className:"fas fa-info-circle text-xs"}),"Ø§Ù„Ø­Ø§Ù„Ø©: ",a.status]})]}),e.jsx("input",{type:"checkbox",checked:a.shared,onChange:()=>Ae(a),className:"w-5 h-5 text-indigo-600 rounded focus:ring-2 focus:ring-indigo-500"})]},a.id))})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 mt-4",children:[e.jsxs("div",{className:"border-2 border-green-200 rounded-xl p-4 bg-gradient-to-br from-green-50 to-green-100/30",children:[e.jsxs("h4",{className:"text-sm font-black text-green-700 mb-2 flex items-center",children:[e.jsx("i",{className:"fas fa-check-circle ml-2"}),"Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒØ© Ø­Ø§Ù„ÙŠØ§Ù‹"]}),te.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"Ù„Ù… ØªØªÙ… Ù…Ø´Ø§Ø±ÙƒØ© Ø£ÙŠ Ø¯ÙˆØ±Ø§Øª Ø¨Ø¹Ø¯."}):e.jsx("ul",{className:"space-y-1 text-sm text-slate-700",children:te.map(a=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-book text-xs text-green-500"}),a.name]},a.id))})]}),e.jsxs("div",{className:"border-2 border-purple-200 rounded-xl p-4 bg-gradient-to-br from-purple-50 to-purple-100/30",children:[e.jsxs("h4",{className:"text-sm font-black text-purple-700 mb-2 flex items-center",children:[e.jsx("i",{className:"fas fa-check-circle ml-2"}),"Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…Ø´ØªØ±ÙƒØ© Ø­Ø§Ù„ÙŠØ§Ù‹"]}),re.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"Ù„Ù… ØªØªÙ… Ù…Ø´Ø§Ø±ÙƒØ© Ø£ÙŠ Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¨Ø¹Ø¯."}):e.jsx("ul",{className:"space-y-1 text-sm text-slate-700",children:re.map(a=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-folder text-xs text-purple-500"}),a.name]},a.id))})]})]})]}),((be=i.permissions)==null?void 0:be.manage_members)&&e.jsx(Fe,{teamId:i.id,teamName:i.name}),e.jsx(Pe,{teamId:i.id,teamName:i.name,members:ae}),e.jsx(Be,{teamId:i.id,teamName:i.name}),e.jsx(Ie,{teamId:i.id,teamName:i.name})]})})]})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>P(null),children:e.jsxs("div",{className:`rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto ${s?"bg-gray-800":"bg-white"}`,onClick:a=>a.stopPropagation(),children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 p-6 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl bg-white/20 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-users text-white text-2xl"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-white",children:u.name}),e.jsx("p",{className:"text-sm text-white/80",children:"Ø¹Ø±Ø¶ Ø³Ø±ÙŠØ¹"})]})]}),e.jsx("button",{onClick:()=>P(null),className:"w-10 h-10 rounded-lg bg-white/20 hover:bg-white/40 flex items-center justify-center text-white transition-all hover:scale-110",children:e.jsx("i",{className:"fas fa-times text-xl"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:`text-sm font-black mb-2 flex items-center ${s?"text-gray-400":"text-slate-600"}`,children:[e.jsx("i",{className:`fas fa-align-right ml-2 ${s?"text-gray-500":"text-slate-400"}`}),"Ø§Ù„ÙˆØµÙ"]}),e.jsx("p",{className:`p-4 rounded-lg border-2 ${s?"text-gray-300 bg-gray-700 border-gray-600":"text-slate-700 bg-slate-50 border-slate-200"}`,children:u.description||"Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ Ù„Ù‡Ø°Ø§ Ø§Ù„ÙØ±ÙŠÙ‚."})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:`text-sm font-black mb-2 flex items-center ${s?"text-gray-400":"text-slate-600"}`,children:[e.jsx("i",{className:"fas fa-crown ml-2 text-yellow-500"}),"Ø§Ù„Ù…Ø§Ù„Ùƒ"]}),e.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg border-2 ${s?"bg-gray-700 border-gray-600":"bg-slate-50 border-slate-200"}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg",children:((ue=(he=u.owner)==null?void 0:he.name)==null?void 0:ue.charAt(0))||"U"}),e.jsxs("div",{children:[e.jsx("p",{className:`font-bold ${s?"text-gray-100":"text-slate-800"}`,children:(fe=u.owner)==null?void 0:fe.name}),e.jsx("p",{className:`text-xs ${s?"text-gray-500":"text-slate-500"}`,children:(pe=u.owner)==null?void 0:pe.email})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:`text-sm font-black mb-3 flex items-center ${s?"text-gray-400":"text-slate-600"}`,children:[e.jsx("i",{className:"fas fa-chart-bar ml-2 text-indigo-500"}),"Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:`p-4 rounded-xl border-2 text-center ${s?"bg-gradient-to-br from-blue-900/50 to-blue-800/30 border-blue-700":"bg-gradient-to-br from-blue-50 to-blue-100/50 border-blue-200"}`,children:[e.jsx("i",{className:"fas fa-users text-blue-500 text-2xl mb-2"}),e.jsx("p",{className:`text-2xl font-black ${s?"text-blue-300":"text-blue-900"}`,children:((je=u.members)==null?void 0:je.length)||0}),e.jsx("p",{className:`text-xs font-bold ${s?"text-blue-400":"text-blue-600"}`,children:"Ø£Ø¹Ø¶Ø§Ø¡"})]}),e.jsxs("div",{className:`p-4 rounded-xl border-2 text-center ${s?"bg-gradient-to-br from-green-900/50 to-green-800/30 border-green-700":"bg-gradient-to-br from-green-50 to-green-100/50 border-green-200"}`,children:[e.jsx("i",{className:"fas fa-book text-green-500 text-2xl mb-2"}),e.jsx("p",{className:`text-2xl font-black ${s?"text-green-300":"text-green-900"}`,children:((ye=u.courses)==null?void 0:ye.length)||0}),e.jsx("p",{className:`text-xs font-bold ${s?"text-green-400":"text-green-600"}`,children:"Ø¯ÙˆØ±Ø§Øª"})]}),e.jsxs("div",{className:`p-4 rounded-xl border-2 text-center ${s?"bg-gradient-to-br from-purple-900/50 to-purple-800/30 border-purple-700":"bg-gradient-to-br from-purple-50 to-purple-100/50 border-purple-200"}`,children:[e.jsx("i",{className:"fas fa-folder text-purple-500 text-2xl mb-2"}),e.jsx("p",{className:`text-2xl font-black ${s?"text-purple-300":"text-purple-900"}`,children:((Ne=u.projects)==null?void 0:Ne.length)||0}),e.jsx("p",{className:`text-xs font-bold ${s?"text-purple-400":"text-purple-600"}`,children:"Ù…Ø´Ø§Ø±ÙŠØ¹"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:`text-sm font-black mb-2 flex items-center ${s?"text-gray-400":"text-slate-600"}`,children:[e.jsx("i",{className:`fas fa-user-tag ml-2 ${s?"text-gray-500":"text-slate-400"}`}),"Ø¯ÙˆØ±Ùƒ ÙÙŠ Ø§Ù„ÙØ±ÙŠÙ‚"]}),e.jsx("div",{className:`border-2 p-4 rounded-lg ${s?"bg-indigo-900/30 border-indigo-700":"bg-indigo-50 border-indigo-200"}`,children:e.jsxs("span",{className:"px-4 py-2 bg-indigo-600 text-white rounded-full text-sm font-bold inline-flex items-center gap-2",children:[u.current_role==="owner"&&e.jsx("i",{className:"fas fa-crown"}),V[u.current_role]||u.current_role]})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs("button",{onClick:()=>{P(null),K(u.id)},className:"flex-1 px-6 py-3 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white rounded-xl font-bold hover:shadow-xl transition-all hover:scale-105 flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-external-link-alt"}),e.jsx("span",{children:"Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„Ø©"})]}),e.jsx("button",{onClick:()=>P(null),className:`px-6 py-3 border-2 rounded-xl font-bold transition-all hover:shadow-md ${s?"border-gray-600 text-gray-300 hover:bg-gray-700 hover:border-gray-500":"border-slate-300 text-slate-700 hover:bg-slate-50 hover:border-slate-400"}`,children:"Ø¥ØºÙ„Ø§Ù‚"})]})]})]})})]})}export{Ge as default};
