import{j as e}from"./charts-8gUIbWxc.js";import{b as o}from"./vendor-125d4HLq.js";import{u as Q,c as oe}from"./index-Ca2M97Gg.js";import{l as M}from"./lessonService-D9t4I9P7.js";import{t as de}from"./taskService-CyLXNRay.js";import{M as J}from"./Modal-BXJ9s2ns.js";import"./apiHelpers-CkzhrEqp.js";const ce=()=>{const{darkMode:t}=Q();return e.jsxs("div",{className:"space-y-6 animate-pulse",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:`h-8 rounded w-48 ${t?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-5 rounded w-64 ${t?"bg-gray-700":"bg-gray-200"}`})]}),e.jsx("div",{className:"flex gap-3",children:[1,2,3].map(u=>e.jsx("div",{className:`h-10 rounded-lg w-24 ${t?"bg-gray-700":"bg-gray-200"}`},u))})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(u=>e.jsxs("div",{className:`rounded-2xl ring-1 shadow-sm overflow-hidden transition-colors duration-300 ${t?"bg-gray-800 ring-gray-700":"bg-white ring-gray-100"}`,children:[e.jsx("div",{className:`h-48 w-full ${t?"bg-gray-700":"bg-gray-200"}`}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("div",{className:`h-6 rounded-full w-20 ${t?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-6 rounded w-3/4 ${t?"bg-gray-700":"bg-gray-200"}`}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:`h-4 rounded w-full ${t?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-4 rounded w-5/6 ${t?"bg-gray-700":"bg-gray-200"}`})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[1,2].map(f=>e.jsxs("div",{className:`rounded-xl p-3 ${t?"bg-gray-900/50":"bg-slate-50/90"}`,children:[e.jsx("div",{className:`h-3 rounded w-16 mb-2 ${t?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-5 rounded w-20 ${t?"bg-gray-700":"bg-gray-200"}`})]},f))}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("div",{className:`h-10 rounded-lg flex-1 ${t?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-10 rounded-lg flex-1 ${t?"bg-gray-700":"bg-gray-200"}`})]})]})]},u))})]})},K="https://images.unsplash.com/photo-1523580846011-d3a5bc25702b?auto=format&fit=crop&w=1000&q=80",$=9,ge=[{value:"all",label:"كل الدروس"},{value:"incomplete",label:"غير مكتملة"},{value:"completed",label:"مكتملة"}];function fe(){var B;const{darkMode:t}=Q(),[u,f]=o.useState([]),[L,U]=o.useState([]),[j,V]=o.useState("incomplete"),[W,_]=o.useState(!0),[T,m]=o.useState(""),[X,v]=o.useState(!1),[A,O]=o.useState(!1),[g,P]=o.useState({course_id:"",name:"",description:"",link:"",duration:"",type:""}),[Y,b]=o.useState(!1),[p,S]=o.useState(null),[N,R]=o.useState({scheduled_date:"",priority:"medium"}),[D,I]=o.useState(!1),[q,C]=o.useState(""),[x,E]=o.useState(1),[d,z]=o.useState({current_page:1,last_page:1,total:0,per_page:$});o.useEffect(()=>{Z()},[]),o.useEffect(()=>{y()},[j,x]);const Z=async()=>{try{const a=await oe.getCourses({active:!0});a.success&&U(a.data)}catch{}},y=async()=>{var a,r,n,l;_(!0),m("");try{const s={page:x,per_page:$};j==="completed"?s.completed=!0:j==="incomplete"&&(s.completed=!1);const i=await M.getLessons(s);if(i.success){const c=Array.isArray(i.data)?i.data:Array.isArray((a=i.data)==null?void 0:a.data)?i.data.data:[];if(i.meta){const w=i.meta.current_page??x,k=i.meta.last_page??1;if(x>k&&k>0){E(k);return}z({current_page:w,last_page:k,total:i.meta.total??c.length,per_page:i.meta.per_page??$})}else z({current_page:1,last_page:1,total:c.length,per_page:$});f(c)}else f([])}catch(s){if((s==null?void 0:s.name)==="CanceledError"||(s==null?void 0:s.code)==="ERR_CANCELED"){_(!1);return}const i=((n=(r=s==null?void 0:s.response)==null?void 0:r.data)==null?void 0:n.message)||(s==null?void 0:s.message);i&&!i.includes("timeout")&&!i.includes("canceled")?m(i):((l=s==null?void 0:s.response)==null?void 0:l.status)>=500?m("حدث خطأ في الخادم. يرجى المحاولة لاحقاً"):s!=null&&s.response||console.error("Network error loading lessons:",s)}finally{_(!1)}},ee=async a=>{var r,n;try{await M.toggleCompletion(a),await y()}catch(l){m(((n=(r=l.response)==null?void 0:r.data)==null?void 0:n.message)||"تعذر تحديث حالة الدرس")}},ae=()=>{var a;P({course_id:((a=L[0])==null?void 0:a.id)??"",name:"",description:"",link:"",duration:"",type:""}),v(!0)},h=a=>{const{name:r,value:n}=a.target;P(l=>({...l,[r]:n}))},te=async a=>{var r,n;a.preventDefault(),O(!0),m("");try{const l={...g,course_id:Number(g.course_id),duration:g.duration||null,link:g.link||null,type:g.type||null,description:g.description||null};await M.createLesson(l),v(!1),await y()}catch(l){m(((n=(r=l.response)==null?void 0:r.data)==null?void 0:n.message)||"تعذر إنشاء الدرس")}finally{O(!1)}},se=a=>{S(a);const r=new Date().toISOString().split("T")[0];R({scheduled_date:r,priority:"medium"}),b(!0)},G=a=>{const{name:r,value:n}=a.target;R(l=>({...l,[r]:n}))},re=async a=>{var r,n,l,s,i;a.preventDefault(),I(!0),m("");try{const c={title:p.name,is_lesson:!0,lesson_id:p.id,course_id:p.course_id,source_type:"lesson",scheduled_date:N.scheduled_date,priority:N.priority,status:"pending"},w=await de.createTask(c);w.success?(b(!1),S(null),C("تمت إضافة الدرس للمهام بنجاح!"),setTimeout(()=>C(""),3e3),await y()):m(w.message||"تعذر إضافة الدرس للمهام")}catch(c){((r=c.response)==null?void 0:r.status)===422?(m(((l=(n=c.response)==null?void 0:n.data)==null?void 0:l.message)||"هذا الدرس مجدول بالفعل في المهام"),b(!1),S(null),await y()):m(((i=(s=c.response)==null?void 0:s.data)==null?void 0:i.message)||"تعذر إضافة الدرس للمهام")}finally{I(!1)}},ie=a=>{V(a),E(1)},le=a=>{a.currentTarget.onerror=null,a.currentTarget.src=K},ne=o.useMemo(()=>{const a=d.last_page??1,r=Math.min(x,a);if(a<=1)return[1];const n=1,l=Math.max(1,r-n),s=Math.min(a,r+n),i=[];l>1&&i.push(1),l>2&&i.push("ellipsis-left");for(let c=l;c<=s;c+=1)i.push(c);return s<a-1&&i.push("ellipsis-right"),s<a&&i.push(a),i},[x,d.last_page]),F=a=>{a>=1&&a<=d.last_page&&a!==x&&E(a)},H=o.useMemo(()=>{if(!d.total)return{from:0,to:0};const a=(d.current_page-1)*d.per_page+1,r=Math.min(d.total,d.current_page*d.per_page);return{from:a,to:r}},[d.current_page,d.per_page,d.total]);return e.jsx("div",{className:`min-h-screen transition-colors duration-300 ${t?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/30"}`,children:e.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 py-6 space-y-5",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold ${t?"text-gray-100":"text-gray-900"}`,children:"الدروس"}),e.jsx("p",{className:`mt-1 text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"إدارة الدروس المرتبطة بالدورات ومتابعة التقدم"})]}),e.jsxs("button",{onClick:ae,className:"px-5 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition text-sm font-medium",children:[e.jsx("i",{className:"fas fa-plus ml-1"}),"درس جديد"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ge.map(a=>e.jsx("button",{onClick:()=>ie(a.value),className:`px-4 py-2 rounded-lg text-sm transition ${j===a.value?"bg-indigo-600 text-white":t?"bg-gray-800 border border-gray-700 text-gray-300 hover:bg-gray-700":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:a.label},a.value))}),T&&e.jsxs("div",{className:`p-4 border rounded-lg flex items-start gap-3 animate-fade-in ${t?"bg-red-900/30 border-red-800 text-red-300":"bg-red-50 border-red-200 text-red-800"}`,children:[e.jsx("i",{className:"fas fa-exclamation-circle text-red-600 mt-0.5"}),e.jsx("div",{className:"flex-1",children:T}),e.jsx("button",{onClick:()=>m(""),className:"text-red-600 hover:text-red-800",children:e.jsx("i",{className:"fas fa-times"})})]}),q&&e.jsxs("div",{className:`p-4 border rounded-lg flex items-start gap-3 animate-fade-in ${t?"bg-green-900/30 border-green-800 text-green-300":"bg-green-50 border-green-200 text-green-800"}`,children:[e.jsx("i",{className:"fas fa-check-circle text-green-600 mt-0.5"}),e.jsx("div",{className:"flex-1",children:q}),e.jsx("button",{onClick:()=>C(""),className:"text-green-600 hover:text-green-800",children:e.jsx("i",{className:"fas fa-times"})})]}),W?e.jsx(ce,{}):u.length===0?e.jsxs("div",{className:`rounded-2xl shadow-lg border-2 p-16 text-center transition-all duration-300 ${t?"bg-gray-800/50 border-gray-700/50 backdrop-blur-sm":"bg-white/80 border-gray-100 backdrop-blur-sm"}`,children:[e.jsx("div",{className:`w-20 h-20 mx-auto mb-6 rounded-2xl flex items-center justify-center ${t?"bg-gray-700":"bg-gray-100"}`,children:e.jsx("i",{className:`fas fa-book-open text-3xl ${t?"text-gray-500":"text-gray-400"}`})}),e.jsx("p",{className:`text-lg font-medium ${t?"text-gray-400":"text-gray-500"}`,children:"لا توجد دروس ضمن هذا الفلتر"}),e.jsx("p",{className:`text-sm mt-2 ${t?"text-gray-500":"text-gray-400"}`,children:"جرب تغيير الفلتر أو إضافة درس جديد"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:u.map(a=>{var l,s;const r=((l=a.course)==null?void 0:l.name)||"دورة غير محددة",n=((s=a.course)==null?void 0:s.image_url)||K;return e.jsxs("div",{className:`group relative overflow-hidden rounded-3xl transition-all duration-500 hover:-translate-y-2 hover:shadow-2xl ${t?"bg-gradient-to-br from-gray-800 via-gray-800 to-gray-900 shadow-xl shadow-gray-900/50 ring-1 ring-gray-700/50":"bg-white shadow-xl shadow-gray-200/50 ring-1 ring-gray-100"}`,children:[e.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden",children:[e.jsx("img",{src:n,alt:r,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110",onError:le}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"}),e.jsx("a",{href:`/lessons/${a.id}/media`,className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300",children:e.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center border-2 border-white/40 transition-transform duration-300 group-hover:scale-110",children:e.jsx("i",{className:"fas fa-play text-white text-xl ml-1"})})}),e.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-start justify-between gap-2 z-10",children:[e.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-xl px-3 py-1.5 text-xs font-bold shadow-lg backdrop-blur-sm ${a.completed?"bg-emerald-500/90 text-white":"bg-amber-500/90 text-white"}`,children:[e.jsx("i",{className:`fas ${a.completed?"fa-check-circle":"fa-hourglass-half"} text-[10px]`}),a.completed?"مكتمل":"قيد الإنجاز"]}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-xl px-3 py-1.5 text-xs font-medium backdrop-blur-md ${a.has_task?"bg-blue-500/80 text-white":"bg-white/20 text-white"}`,children:[e.jsx("i",{className:`fas ${a.has_task?"fa-calendar-check":"fa-clock"} text-[10px]`}),a.has_task?"مجدول":a.duration||"مدة غير محددة"]})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 z-10",children:[e.jsx("h2",{className:"text-lg font-bold text-white leading-tight line-clamp-2 mb-1 drop-shadow-lg",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-300 flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-graduation-cap text-indigo-400"}),r]})]})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[a.description&&e.jsx("p",{className:`text-sm leading-relaxed line-clamp-2 ${t?"text-gray-400":"text-gray-600"}`,children:a.description}),e.jsxs("div",{className:`flex items-center gap-4 py-3 border-y ${t?"border-gray-700/50":"border-gray-100"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${t?"bg-indigo-500/20":"bg-indigo-50"}`,children:e.jsx("i",{className:"fas fa-clock text-indigo-500 text-sm"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-[10px] uppercase tracking-wide ${t?"text-gray-500":"text-gray-400"}`,children:"المدة"}),e.jsx("p",{className:`text-sm font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:a.duration||"غير محددة"})]})]}),a.type&&e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${t?"bg-purple-500/20":"bg-purple-50"}`,children:e.jsx("i",{className:"fas fa-layer-group text-purple-500 text-sm"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-[10px] uppercase tracking-wide ${t?"text-gray-500":"text-gray-400"}`,children:"النوع"}),e.jsx("p",{className:`text-sm font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:a.type})]})]})]}),e.jsxs("a",{href:`/lessons/${a.id}/media`,className:"group/btn flex items-center justify-center gap-3 w-full py-3.5 px-4 rounded-xl bg-gradient-to-r from-indigo-600 via-indigo-600 to-purple-600 text-white font-semibold text-sm transition-all duration-300 hover:from-indigo-700 hover:via-indigo-700 hover:to-purple-700 hover:shadow-lg hover:shadow-indigo-500/30",children:[e.jsx("i",{className:"fas fa-play-circle transition-transform duration-300 group-hover/btn:scale-110"}),e.jsx("span",{children:"مشاهدة الفيديو"}),e.jsx("i",{className:"fas fa-arrow-left text-xs opacity-0 -translate-x-2 transition-all duration-300 group-hover/btn:opacity-100 group-hover/btn:translate-x-0"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[!a.completed&&!a.has_task&&e.jsxs("button",{onClick:()=>se(a),className:`flex items-center justify-center gap-2 py-2.5 px-3 rounded-xl text-sm font-medium transition-all duration-300 ${t?"bg-gray-700/50 text-gray-300 hover:bg-gray-700 border border-gray-600/50":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-gray-200"}`,title:"إضافة الدرس إلى قائمة المهام",children:[e.jsx("i",{className:"fas fa-calendar-plus text-indigo-500"}),e.jsx("span",{children:"جدولة"})]}),a.has_task&&!a.completed&&e.jsxs("div",{className:`flex items-center justify-center gap-2 py-2.5 px-3 rounded-xl text-sm font-medium ${t?"bg-blue-500/10 text-blue-400 border border-blue-500/30":"bg-blue-50 text-blue-600 border border-blue-200"}`,children:[e.jsx("i",{className:"fas fa-calendar-check"}),e.jsx("span",{children:"مجدول"})]}),e.jsxs("button",{onClick:()=>ee(a.id),className:`flex items-center justify-center gap-2 py-2.5 px-3 rounded-xl text-sm font-medium transition-all duration-300 ${a.completed?t?"bg-gray-700/50 text-gray-300 hover:bg-gray-700 border border-gray-600/50":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-gray-200":"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500 hover:text-white border border-emerald-500/30"} ${!a.completed&&!a.has_task?"":"col-span-2"}`,title:a.completed?"إلغاء اكتمال الدرس":"وضع مكتمل",children:[e.jsx("i",{className:`fas ${a.completed?"fa-undo":"fa-check-circle"}`}),e.jsx("span",{children:a.completed?"إرجاع قيد الإنجاز":"وضع مكتمل"})]})]}),a.link&&e.jsxs("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center gap-2 py-2 px-3 rounded-lg text-xs font-medium transition-all duration-300 ${t?"text-gray-400 hover:text-indigo-400 hover:bg-gray-700/50":"text-gray-500 hover:text-indigo-600 hover:bg-gray-50"}`,title:"فتح الدرس في تبويب جديد",children:[e.jsx("i",{className:"fas fa-external-link-alt"}),e.jsx("span",{children:"فتح الرابط الخارجي"})]})]})]},a.id)})}),u.length>0&&d.last_page>1&&e.jsxs("div",{className:`flex flex-wrap items-center justify-between gap-3 rounded-2xl border px-4 py-3 shadow-sm transition-colors duration-300 ${t?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"}`,children:[e.jsxs("div",{className:`text-sm transition-colors duration-300 ${t?"text-gray-400":"text-gray-600"}`,children:["عرض ",H.from," - ",H.to," من"," ",d.total," درس"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("button",{type:"button",onClick:()=>F(x-1),disabled:x<=1,className:`flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition disabled:cursor-not-allowed disabled:opacity-50 transition-colors duration-300 ${t?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("i",{className:"fas fa-chevron-right text-xs"}),"السابق"]}),ne.map((a,r)=>typeof a=="string"?e.jsx("span",{className:`px-2 transition-colors duration-300 ${t?"text-gray-500":"text-gray-400"}`,children:"..."},`${a}-${r}`):e.jsx("button",{type:"button",onClick:()=>F(a),className:`min-w-[38px] rounded-lg px-3 py-2 text-sm font-medium transition transition-colors duration-300 ${a===x?"bg-indigo-600 text-white shadow":t?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:a},a)),e.jsxs("button",{type:"button",onClick:()=>F(x+1),disabled:x>=d.last_page,className:`flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition disabled:cursor-not-allowed disabled:opacity-50 transition-colors duration-300 ${t?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:["التالي",e.jsx("i",{className:"fas fa-chevron-left text-xs"})]})]})]}),e.jsx(J,{title:"إضافة الدرس للمهام",isOpen:Y,onClose:()=>b(!1),children:e.jsxs("form",{onSubmit:re,className:"space-y-4",children:[p&&e.jsxs("div",{className:`border rounded-lg p-4 transition-colors duration-300 ${t?"bg-indigo-900/30 border-indigo-700":"bg-indigo-50 border-indigo-200"}`,children:[e.jsx("p",{className:`text-sm mb-1 transition-colors duration-300 ${t?"text-gray-400":"text-gray-600"}`,children:"اسم الدرس:"}),e.jsx("p",{className:`font-semibold transition-colors duration-300 ${t?"text-gray-100":"text-gray-900"}`,children:p.name}),((B=p.course)==null?void 0:B.name)&&e.jsxs("p",{className:"text-xs mt-1 transition-colors duration-300 text-gray-500",children:["الدورة: ",p.course.name]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"scheduled_date",className:`block text-sm font-medium mb-2 transition-colors duration-300 ${t?"text-gray-300":"text-gray-700"}`,children:[e.jsx("i",{className:"fas fa-calendar ml-2 text-indigo-600"}),"تاريخ التنفيذ المتوقع"]}),e.jsx("input",{id:"scheduled_date",name:"scheduled_date",type:"date",value:N.scheduled_date,onChange:G,required:!0,className:`w-full px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors duration-300 ${t?"bg-gray-900 border-gray-700 text-gray-200":"border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx("i",{className:"fas fa-flag ml-2 text-indigo-600"}),"الأولوية"]}),e.jsxs("select",{id:"priority",name:"priority",value:N.priority,onChange:G,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"low",children:"منخفض"}),e.jsx("option",{value:"medium",children:"متوسط"}),e.jsx("option",{value:"high",children:"عالي"}),e.jsx("option",{value:"urgent",children:"عاجل"})]})]}),e.jsx("div",{className:`border rounded-lg p-4 transition-colors duration-300 ${t?"bg-gray-900/50 border-gray-700":"bg-gray-50 border-gray-200"}`,children:e.jsxs("p",{className:`text-xs transition-colors duration-300 ${t?"text-gray-400":"text-gray-600"}`,children:[e.jsx("i",{className:"fas fa-info-circle ml-1 text-indigo-600"}),"سيتم إضافة هذا الدرس كمهمة في قائمة المهام بالتاريخ والأولوية المحددة."]})}),e.jsxs("div",{className:`flex justify-end gap-3 pt-4 border-t transition-colors duration-300 ${t?"border-gray-700":"border-gray-200"}`,children:[e.jsx("button",{type:"button",onClick:()=>b(!1),className:`px-4 py-2 rounded-lg border transition-colors duration-300 ${t?"border-gray-700 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"إلغاء"}),e.jsx("button",{type:"submit",disabled:D,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:D?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin ml-2"}),"جاري الإضافة..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-plus ml-2"}),"إضافة للمهام"]})})]})]})}),e.jsx(J,{title:"إضافة درس جديد",isOpen:X,onClose:()=>v(!1),children:e.jsxs("form",{onSubmit:te,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"course_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"اختر الدورة"}),e.jsxs("select",{id:"course_id",name:"course_id",value:g.course_id,onChange:h,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"-- اختر الدورة --"}),L.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"عنوان الدرس"}),e.jsx("input",{id:"name",name:"name",type:"text",value:g.name,onChange:h,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"الوصف (اختياري)"}),e.jsx("textarea",{id:"description",name:"description",rows:"3",value:g.description,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"link",className:"block text-sm font-medium text-gray-700 mb-2",children:"رابط الدرس (اختياري)"}),e.jsx("input",{id:"link",name:"link",type:"url",value:g.link,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-2",children:"المدة (اختياري)"}),e.jsx("input",{id:"duration",name:"duration",type:"text",value:g.duration,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"مثال: 45 دقيقة"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-2",children:"نوع الدرس (اختياري)"}),e.jsx("input",{id:"type",name:"type",type:"text",value:g.type,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"فيديو، قراءة، تدريب..."})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition",children:"إلغاء"}),e.jsx("button",{type:"submit",disabled:A,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:A?"جاري الحفظ...":"حفظ الدرس"})]})]})})]})})}export{fe as default};
