import{j as e}from"./charts-8gUIbWxc.js";import{i as Ee,c as Ae,b as o,R as U,L as z}from"./vendor-125d4HLq.js";import{u as ge,c as v}from"./index-DB2kzkDV.js";import{l as G}from"./lessonService-YJYph0J7.js";import{c as Je}from"./categoryService-BDjHKUQj.js";import{t as De}from"./taskService-CLL6yYg6.js";import{M}from"./Modal-6tiOT-7y.js";import"./apiHelpers-CkzhrEqp.js";const qe=()=>{const{darkMode:s}=ge();return e.jsx("div",{className:`min-h-screen transition-colors duration-300 ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/30"}`,children:e.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 py-6 space-y-5 animate-pulse",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:`h-4 rounded w-48 ${s?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-8 rounded w-64 ${s?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-4 rounded w-40 ${s?"bg-gray-700":"bg-gray-200"}`})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:`h-10 rounded-lg w-32 ${s?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-10 rounded-lg w-32 ${s?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-10 rounded-lg w-32 ${s?"bg-gray-700":"bg-gray-200"}`})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[e.jsxs("div",{className:`lg:col-span-2 rounded-lg shadow-sm border p-5 space-y-5 transition-colors duration-300 ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("div",{className:`w-full h-60 rounded-lg ${s?"bg-gray-700":"bg-gray-200"}`}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:`border rounded-lg p-4 ${s?"bg-gray-900/50 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[e.jsx("div",{className:`h-3 rounded w-20 mb-2 ${s?"bg-gray-600":"bg-gray-300"}`}),e.jsx("div",{className:`h-8 rounded w-12 ${s?"bg-gray-600":"bg-gray-300"}`})]}),e.jsxs("div",{className:`border rounded-lg p-4 ${s?"bg-gray-900/50 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[e.jsx("div",{className:`h-3 rounded w-20 mb-2 ${s?"bg-gray-600":"bg-gray-300"}`}),e.jsx("div",{className:`h-8 rounded w-12 ${s?"bg-gray-600":"bg-gray-300"}`})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:`h-4 rounded w-24 ${s?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-4 rounded w-12 ${s?"bg-gray-700":"bg-gray-200"}`})]}),e.jsx("div",{className:`h-2.5 rounded-full ${s?"bg-gray-700":"bg-gray-200"}`})]}),e.jsx("div",{className:"space-y-3 mt-8",children:[1,2,3,4,5].map(x=>e.jsx("div",{className:`border rounded-lg p-4 ${s?"bg-gray-900/30 border-gray-700":"bg-gray-50 border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:`h-5 rounded w-3/4 ${s?"bg-gray-600":"bg-gray-300"}`}),e.jsx("div",{className:`h-3 rounded w-1/2 ${s?"bg-gray-700":"bg-gray-200"}`})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:`h-8 w-8 rounded ${s?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-8 w-8 rounded ${s?"bg-gray-700":"bg-gray-200"}`})]})]})},x))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`rounded-lg shadow-sm border p-5 space-y-4 transition-colors duration-300 ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("div",{className:`h-6 rounded w-32 ${s?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-4 rounded w-full ${s?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-4 rounded w-5/6 ${s?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-10 rounded-lg w-full ${s?"bg-gray-700":"bg-gray-200"}`})]}),e.jsxs("div",{className:`rounded-lg shadow-sm border p-5 space-y-4 transition-colors duration-300 ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("div",{className:`h-6 rounded w-32 ${s?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-4 rounded w-full ${s?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-4 rounded w-4/5 ${s?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-10 rounded-lg w-full ${s?"bg-gray-700":"bg-gray-200"}`})]})]})]})]})})};function Ke(){var le,ie,oe,de,ce;const{darkMode:s}=ge(),{id:x}=Ee(),me=Ae(),[l,xe]=o.useState(null),[m,be]=o.useState(null),[ue,E]=o.useState(!0),[A,d]=o.useState(""),[P,he]=o.useState([]),[pe,S]=o.useState(!1),[b,F]=o.useState({name:"",category_id:"",link:"",active:!0,image:null}),[H,K]=o.useState(!1),[fe,w]=o.useState(!1),[O,J]=o.useState(null),[L,Q]=o.useState({scheduled_date:"",priority:"medium"}),[V,W]=o.useState(!1),[X,u]=o.useState(""),[y,D]=o.useState("sequential"),[Y,Z]=o.useState(!1),[ye,T]=o.useState(!1),[ee,q]=o.useState(""),[se,R]=o.useState(!1),[je,k]=o.useState(!1),[h,I]=o.useState({name:"",lesson_category_id:"",link:"",duration:"",description:""}),[ae,re]=o.useState(!1),[f,Ne]=o.useState(!0),[ve,te]=o.useState({});o.useEffect(()=>{p(),we()},[x]);const p=async()=>{var a,t,i,r;E(!0),d("");try{const n=await v.getCourse(x);n.success&&(xe(n.data),F({name:n.data.name,category_id:((a=n.data.category)==null?void 0:a.id)??"",link:n.data.link??"",active:!!n.data.active,image:null}));const c=await v.getStatistics(x);c.success&&be(c.data)}catch(n){if((n==null?void 0:n.name)==="CanceledError"||(n==null?void 0:n.code)==="ERR_CANCELED"){E(!1);return}const c=((i=(t=n==null?void 0:n.response)==null?void 0:t.data)==null?void 0:i.message)||(n==null?void 0:n.message);c&&!c.includes("timeout")&&!c.includes("canceled")?d(c):((r=n==null?void 0:n.response)==null?void 0:r.status)>=500?d("حدث خطأ في الخادم. يرجى المحاولة لاحقاً"):n!=null&&n.response||console.error("Network error loading course details:",n)}finally{E(!1)}},we=async()=>{try{const a=await Je.getCategories();a.success&&he(a.data)}catch{}},ke=async()=>{var a,t;try{await v.toggleActive(x),await p()}catch(i){d(((t=(a=i.response)==null?void 0:a.data)==null?void 0:t.message)||"تعذر تحديث حالة الدورة")}},$e=async()=>{var t,i;if(window.confirm("سيتم حذف الدورة وجميع دروسها. هل تريد المتابعة؟"))try{await v.deleteCourse(x),me("/courses")}catch(r){d(((i=(t=r.response)==null?void 0:t.data)==null?void 0:i.message)||"تعذر حذف الدورة")}},Ce=async()=>{var a,t,i;if(!((a=l==null?void 0:l.lessons)!=null&&a.length)){d("لا توجد دروس لترقيمها");return}Z(!0),d("");try{const r=await v.numberLessons(x,y);u(r.message||"تم تحديث ترقيم الدروس بنجاح"),setTimeout(()=>u(""),5e3),await p()}catch(r){d(((i=(t=r.response)==null?void 0:t.data)==null?void 0:i.message)||"تعذر ترقيم الدروس")}finally{Z(!1)}},_e=async a=>{var t,i;try{await G.toggleCompletion(a),await p()}catch(r){d(((i=(t=r.response)==null?void 0:t.data)==null?void 0:i.message)||"تعذر تحديث حالة الدرس")}},$=a=>{const{name:t,value:i,type:r,checked:n,files:c}=a.target;F(t==="image"?g=>({...g,image:(c==null?void 0:c[0])??null}):r==="checkbox"?g=>({...g,[t]:n}):g=>({...g,[t]:i}))},Se=async a=>{var t,i;a.preventDefault(),K(!0),d("");try{const r=new FormData;r.append("name",b.name),r.append("category_id",b.category_id),b.link&&r.append("link",b.link),r.append("active",b.active?"1":"0"),b.image&&r.append("image",b.image),await v.updateCourse(x,r),S(!1),await p()}catch(r){d(((i=(t=r.response)==null?void 0:t.data)==null?void 0:i.message)||"تعذر تحديث الدورة")}finally{K(!1)}},Fe=a=>{J(a);const t=new Date().toISOString().split("T")[0];Q({scheduled_date:t,priority:"medium"}),w(!0)},ne=a=>{const{name:t,value:i}=a.target;Q(r=>({...r,[t]:i}))},Oe=async a=>{var t,i,r,n,c;a.preventDefault(),W(!0),d("");try{const g={title:O.name,is_lesson:!0,lesson_id:O.id,course_id:l.id,source_type:"lesson",scheduled_date:L.scheduled_date,priority:L.priority,status:"pending"},N=await De.createTask(g);N.success?(w(!1),J(null),u("تمت إضافة الدرس للمهام بنجاح!"),setTimeout(()=>u(""),3e3),await p()):d(N.message||"تعذر إضافة الدرس للمهام")}catch(g){((t=g.response)==null?void 0:t.status)===422?(d(((r=(i=g.response)==null?void 0:i.data)==null?void 0:r.message)||"هذا الدرس مجدول بالفعل في المهام"),w(!1),J(null),await p()):d(((c=(n=g.response)==null?void 0:n.data)==null?void 0:c.message)||"تعذر إضافة الدرس للمهام")}finally{W(!1)}},Le=async a=>{var t,i;a.preventDefault(),R(!0),d("");try{const r=JSON.parse(ee);if(!Array.isArray(r)){d("يجب أن يكون ملف JSON عبارة عن مصفوفة من الدروس"),R(!1);return}let n=0,c=0;for(const g of r)try{const N={name:g.name,course_id:x,lesson_category_id:g.lesson_category_id||g.category_id||null,link:g.link||"",completed:g.completed||!1,duration:g.duration||null,description:g.description||null};await G.createLesson(N),n++}catch(N){c++,console.error("خطأ في استيراد الدرس:",g.name,N)}T(!1),q(""),c>0?u(`تم استيراد ${n} درس بنجاح. فشل استيراد ${c} درس.`):u(`تم استيراد ${n} درس بنجاح!`),setTimeout(()=>u(""),5e3),await p()}catch(r){d(r.message==="Unexpected token"||r.message.includes("JSON")?"تنسيق JSON غير صحيح. يرجى التحقق من الملف.":((i=(t=r.response)==null?void 0:t.data)==null?void 0:i.message)||"تعذر استيراد الدروس من JSON")}finally{R(!1)}},C=a=>{const{name:t,value:i}=a.target;I(r=>({...r,[t]:i}))},Te=async a=>{var t,i;a.preventDefault(),re(!0),d("");try{const r={name:h.name,course_id:x,lesson_category_id:h.lesson_category_id||null,link:h.link||"",duration:h.duration||null,description:h.description||null,completed:!1},n=await G.createLesson(r);n.success?(k(!1),I({name:"",lesson_category_id:"",link:"",duration:"",description:""}),u("تمت إضافة الدرس بنجاح!"),setTimeout(()=>u(""),3e3),await p()):d(n.message||"تعذر إضافة الدرس")}catch(r){d(((i=(t=r.response)==null?void 0:t.data)==null?void 0:i.message)||"تعذر إضافة الدرس")}finally{re(!1)}},Me=a=>{te(t=>({...t,[a]:!t[a]}))},j=U.useMemo(()=>{var a;return(a=l==null?void 0:l.lessons)!=null&&a.length?l.lessons.some(t=>!!t.category):!1},[l==null?void 0:l.lessons]),_=U.useMemo(()=>{var i;if(!((i=l==null?void 0:l.lessons)!=null&&i.length))return{};const a={};l.lessons.forEach(r=>{var c;if(!f&&r.completed)return;const n=((c=r.category)==null?void 0:c.name)||"بدون تصنيف";a[n]||(a[n]=[]),a[n].push(r)});const t={};return Object.entries(a).forEach(([r,n])=>{n.length>0&&(t[r]=n)}),t},[l==null?void 0:l.lessons,f]);if(o.useEffect(()=>{!j&&y==="category"&&D("sequential")},[j,y]),U.useEffect(()=>{if(Object.keys(_).length>0){const a={};Object.keys(_).forEach((t,i)=>{a[t]=i!==0}),te(a)}},[l==null?void 0:l.lessons]),ue)return e.jsx(qe,{});if(!l)return e.jsx("div",{className:`rounded-xl shadow p-12 text-center transition-colors duration-300 ${s?"bg-gray-800 text-gray-400":"bg-white text-gray-600"}`,children:A||"لم يتم العثور على الدورة المطلوبة"});const B=Number(l.progress??(m==null?void 0:m.progress)??0);return e.jsx("div",{className:`min-h-screen transition-colors duration-300 ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/30"}`,children:e.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 py-6 space-y-5",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:`flex items-center gap-2 text-sm mb-2 ${s?"text-indigo-400":"text-indigo-600"}`,children:[e.jsxs(z,{to:"/courses",className:"hover:underline flex items-center gap-1 transition-colors",children:[e.jsx("i",{className:"fas fa-arrow-right text-xs"}),"الدورات"]}),e.jsx("span",{className:s?"text-gray-500":"text-gray-400",children:"/"}),e.jsx("span",{className:s?"text-gray-400":"text-gray-600",children:l.name})]}),e.jsxs("h1",{className:`text-3xl font-bold flex items-center gap-3 ${s?"text-gray-100":"text-gray-900"}`,children:[e.jsx("i",{className:"fas fa-graduation-cap text-indigo-600"}),l.name]}),l.category&&e.jsxs("p",{className:`mt-2 text-sm flex items-center gap-2 ${s?"text-gray-400":"text-gray-600"}`,children:[e.jsx("i",{className:"fas fa-folder text-indigo-500"}),l.category.name]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("button",{onClick:()=>k(!0),className:"px-5 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all shadow-sm hover:shadow-md text-sm font-medium flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-plus-circle"}),"إضافة درس جديد"]}),e.jsxs("button",{onClick:()=>S(!0),className:"px-4 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all shadow-sm hover:shadow-md text-sm font-medium flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-edit"}),"تعديل"]}),e.jsxs("button",{onClick:ke,className:`px-4 py-2.5 rounded-lg transition-all shadow-sm hover:shadow-md text-sm font-medium flex items-center gap-2 ${l.active?s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-amber-600 text-white hover:bg-amber-700"}`,children:[e.jsx("i",{className:`fas ${l.active?"fa-pause":"fa-play"}`}),l.active?"إيقاف":"تفعيل"]}),e.jsxs("button",{onClick:$e,className:"px-4 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all shadow-sm hover:shadow-md text-sm font-medium flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-trash"}),"حذف"]})]})]}),A&&e.jsxs("div",{className:`p-4 border rounded-lg flex items-start gap-3 animate-fade-in ${s?"bg-red-900/30 border-red-800 text-red-300":"bg-red-50 border-red-200 text-red-800"}`,children:[e.jsx("i",{className:"fas fa-exclamation-circle text-red-600 mt-0.5"}),e.jsx("div",{className:"flex-1",children:A}),e.jsx("button",{onClick:()=>d(""),className:s?"text-red-400 hover:text-red-200":"text-red-600 hover:text-red-800",children:e.jsx("i",{className:"fas fa-times"})})]}),X&&e.jsxs("div",{className:`p-4 border rounded-lg flex items-start gap-3 animate-fade-in ${s?"bg-green-900/30 border-green-800 text-green-300":"bg-green-50 border-green-200 text-green-800"}`,children:[e.jsx("i",{className:"fas fa-check-circle text-green-600 mt-0.5"}),e.jsx("div",{className:"flex-1",children:X}),e.jsx("button",{onClick:()=>u(""),className:s?"text-green-400 hover:text-green-200":"text-green-600 hover:text-green-800",children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-5",children:[e.jsxs("div",{className:`lg:col-span-3 rounded-xl shadow-md border p-6 space-y-6 transition-colors duration-300 ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"}`,children:[l.image_url&&e.jsxs("div",{className:"relative overflow-hidden rounded-xl group",children:[e.jsx("img",{src:l.image_url,alt:l.name,className:"w-full h-72 object-cover transition-transform duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:`rounded-xl p-5 text-center transition-all duration-300 hover:scale-105 ${s?"bg-gradient-to-br from-blue-900/40 to-blue-800/40 border border-blue-700":"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200"}`,children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 rounded-full bg-blue-600 shadow-lg",children:e.jsx("i",{className:"fas fa-book text-white text-lg"})}),e.jsx("p",{className:`text-3xl font-black mb-1 ${s?"text-gray-100":"text-gray-900"}`,children:((le=l.lessons)==null?void 0:le.length)??l.lessons_count??0}),e.jsx("p",{className:`text-xs font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"إجمالي الدروس"})]}),e.jsxs("div",{className:`rounded-xl p-5 text-center transition-all duration-300 hover:scale-105 ${s?"bg-gradient-to-br from-green-900/40 to-green-800/40 border border-green-700":"bg-gradient-to-br from-green-50 to-green-100 border border-green-200"}`,children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 rounded-full bg-green-600 shadow-lg",children:e.jsx("i",{className:"fas fa-check-circle text-white text-lg"})}),e.jsx("p",{className:`text-3xl font-black mb-1 ${s?"text-gray-100":"text-gray-900"}`,children:(m==null?void 0:m.completed_lessons)??l.completed_lessons_count??0}),e.jsx("p",{className:`text-xs font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"دروس مكتملة"})]}),e.jsxs("div",{className:`rounded-xl p-5 text-center transition-all duration-300 hover:scale-105 ${s?"bg-gradient-to-br from-amber-900/40 to-amber-800/40 border border-amber-700":"bg-gradient-to-br from-amber-50 to-amber-100 border border-amber-200"}`,children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 rounded-full bg-amber-600 shadow-lg",children:e.jsx("i",{className:"fas fa-clock text-white text-lg"})}),e.jsx("p",{className:`text-3xl font-black mb-1 ${s?"text-gray-100":"text-gray-900"}`,children:(((ie=l.lessons)==null?void 0:ie.length)??0)-((m==null?void 0:m.completed_lessons)??0)}),e.jsx("p",{className:`text-xs font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"دروس متبقية"})]}),e.jsxs("div",{className:`rounded-xl p-5 text-center transition-all duration-300 hover:scale-105 ${s?"bg-gradient-to-br from-purple-900/40 to-purple-800/40 border border-purple-700":"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200"}`,children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 rounded-full bg-purple-600 shadow-lg",children:e.jsx("i",{className:"fas fa-percent text-white text-lg"})}),e.jsxs("p",{className:`text-3xl font-black mb-1 ${s?"text-gray-100":"text-gray-900"}`,children:[B.toFixed(0),"%"]}),e.jsx("p",{className:`text-xs font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"نسبة الإنجاز"})]})]}),e.jsxs("div",{className:`rounded-xl p-6 space-y-4 ${s?"bg-gradient-to-r from-indigo-900/30 to-purple-900/30 border border-indigo-800":"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-600 flex items-center justify-center shadow-lg",children:e.jsx("i",{className:"fas fa-chart-line text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-bold ${s?"text-gray-100":"text-gray-900"}`,children:"تقدم الدورة"}),e.jsxs("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:[(m==null?void 0:m.completed_lessons)??0," من ",((oe=l.lessons)==null?void 0:oe.length)??0," درس"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-4xl font-black bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:[B.toFixed(1),"%"]})})]}),e.jsx("div",{className:`h-4 rounded-full overflow-hidden shadow-inner ${s?"bg-gray-700":"bg-gray-200"}`,children:e.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full transition-all duration-700 ease-out relative overflow-hidden",style:{width:`${Math.min(B,100)}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})})]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:`rounded-xl shadow-md border p-6 space-y-4 transition-colors duration-300 ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center shadow-md",children:e.jsx("i",{className:"fas fa-bolt text-white"})}),e.jsx("h2",{className:`text-lg font-bold ${s?"text-gray-100":"text-gray-900"}`,children:"إجراءات سريعة"})]}),e.jsxs("button",{onClick:()=>k(!0),className:"w-full px-4 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all shadow-md hover:shadow-lg text-sm font-bold flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-plus-circle"}),"إضافة درس جديد"]}),e.jsxs(z,{to:`/lessons?course_id=${l.id}`,className:"block w-full px-4 py-3 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 transition-all shadow-md hover:shadow-lg text-sm font-bold text-center",children:[e.jsx("i",{className:"fas fa-list ml-2"}),"إدارة جميع الدروس"]}),e.jsxs("button",{onClick:()=>T(!0),className:"w-full px-4 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg text-sm font-bold flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-file-import"}),"استيراد JSON"]})]}),e.jsxs("div",{className:`rounded-lg shadow-sm border p-5 space-y-4 transition-colors duration-300 ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsxs("h2",{className:`text-base font-bold flex items-center ${s?"text-gray-100":"text-gray-900"}`,children:[e.jsx("i",{className:"fas fa-sort-numeric-down text-indigo-600 ml-2 text-sm"}),"ترقيم الدروس"]}),e.jsx("p",{className:`text-sm leading-relaxed ${s?"text-gray-400":"text-gray-600"}`,children:"أضف أرقاماً تلقائية لعناوين الدروس لسهولة المتابعة. يمكنك اختيار الترقيم المتتالي لكل الدروس أو إعادة الترقيم داخل كل فئة على حدة."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition ${s?"border-gray-700 hover:border-indigo-500":"border-gray-200 hover:border-indigo-400"}`,children:[e.jsx("input",{type:"radio",className:"mt-1 form-radio text-indigo-600",name:"numbering-type",value:"sequential",checked:y==="sequential",onChange:a=>D(a.target.value)}),e.jsxs("div",{children:[e.jsx("div",{className:`font-semibold text-sm ${s?"text-gray-200":"text-gray-900"}`,children:"ترقيم متتالي"}),e.jsx("p",{className:"text-xs leading-relaxed text-gray-500",children:"يبدأ الترقيم من 1 ويستمر حتى آخر درس في الدورة بغض النظر عن التصنيف."})]})]}),e.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition ${y==="category"&&j?s?"border-indigo-500":"border-indigo-400":s?"border-gray-700 hover:border-indigo-500":"hover:border-indigo-400"} ${j?"":"opacity-50 cursor-not-allowed"}`,children:[e.jsx("input",{type:"radio",className:"mt-1 form-radio text-indigo-600",name:"numbering-type",value:"category",checked:y==="category",onChange:a=>D(a.target.value),disabled:!j}),e.jsxs("div",{children:[e.jsx("div",{className:`font-semibold text-sm ${s?"text-gray-200":"text-gray-900"}`,children:"ترقيم حسب الفئة"}),e.jsx("p",{className:"text-xs leading-relaxed text-gray-500",children:"يعيد الترقيم إلى 1 داخل كل فئة دروس. مفيد عند تقسيم الدورة إلى أجزاء متعددة."}),!j&&e.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"جميع الدروس بدون فئات محددة، استخدم الترقيم المتتالي بدلاً من ذلك."})]})]})]}),e.jsx("button",{onClick:Ce,disabled:Y||!((de=l==null?void 0:l.lessons)!=null&&de.length),className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition text-sm font-medium disabled:opacity-60 disabled:cursor-not-allowed",children:Y?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"جاري الترقيم..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-check-double"}),"تطبيق الترقيم"]})})]})]})]}),e.jsxs("div",{className:`rounded-lg shadow-sm border p-5 space-y-4 transition-colors duration-300 ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("h2",{className:`text-lg font-bold flex items-center ${s?"text-gray-100":"text-gray-900"}`,children:[e.jsx("i",{className:"fas fa-list text-indigo-600 ml-2 text-sm"}),"قائمة الدروس"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>Ne(!f),className:`px-3 py-1.5 text-sm rounded-lg transition font-medium flex items-center gap-2 ${f?s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:f?"إخفاء الدروس المكتملة":"إظهار الدروس المكتملة",children:[e.jsx("i",{className:`fas ${f?"fa-eye-slash":"fa-eye"} text-xs`}),e.jsx("span",{children:f?"إخفاء المكتملة":"إظهار المكتملة"})]}),e.jsxs("span",{className:`text-sm px-3 py-1 rounded-lg font-medium ${s?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:[Object.values(_).reduce((a,t)=>a+t.length,0)," ","درس"]})]})]}),(ce=l.lessons)!=null&&ce.length?e.jsx("div",{className:"space-y-4",children:Object.keys(_).length===0?e.jsxs("div",{className:`text-center py-12 rounded-lg border ${s?"bg-gray-900/30 border-gray-700 text-gray-500":"bg-gray-50 border-gray-200 text-gray-500"}`,children:[e.jsx("i",{className:`fas fa-filter text-4xl mb-3 ${s?"text-gray-700":"text-gray-300"}`}),e.jsx("p",{children:"لا توجد دروس تطابق الفلتر المحدد"})]}):Object.entries(_).map(([a,t])=>{const i=ve[a]??!1;return e.jsxs("div",{className:`border rounded-lg overflow-hidden ${s?"border-gray-700":"border-gray-200"}`,children:[e.jsx("button",{onClick:()=>Me(a),className:`w-full flex items-center justify-between gap-2 p-4 transition-colors ${s?"bg-gray-900/50 hover:bg-gray-900":"bg-gray-50 hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:`fas ${i?"fa-chevron-left":"fa-chevron-down"} text-indigo-600 text-xs transition-transform`}),e.jsx("i",{className:"fas fa-folder text-indigo-600 text-sm"}),e.jsx("h3",{className:`text-base font-bold ${s?"text-gray-100":"text-gray-900"}`,children:a}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full border ${s?"bg-gray-800 text-gray-400 border-gray-700":"bg-white text-gray-600 border-gray-200"}`,children:[t.length," درس"]})]})}),!i&&e.jsx("div",{className:`p-4 space-y-3 ${s?"bg-gray-800":"bg-white"}`,children:t.map(r=>e.jsx("div",{className:`border rounded-lg p-4 hover:shadow-md transition-shadow duration-200 ${s?"bg-gray-900/50 border-gray-700":"bg-white border-gray-200"}`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${r.completed?"bg-green-100":"bg-amber-100"}`,children:e.jsx("i",{className:`fas ${r.completed?"fa-check-circle text-green-600":"fa-book-open text-amber-600"} text-lg`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:`text-base font-semibold mb-1 ${s?"text-gray-200":"text-gray-900"}`,children:r.name}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium ${r.completed?"bg-green-100 text-green-700 border border-green-200":"bg-amber-100 text-amber-700 border border-amber-200"}`,children:[e.jsx("i",{className:`fas ${r.completed?"fa-check":"fa-clock"} ml-1 text-xs`}),r.completed?"مكتمل":"قيد الإنجاز"]})})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(z,{to:`/lessons/${r.id}/media`,className:"px-4 py-2 text-sm text-purple-600 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors font-medium flex items-center gap-2",title:"مشاهدة الدرس مع الفيديو والترجمات",children:[e.jsx("i",{className:"fas fa-play-circle text-xs"}),e.jsx("span",{children:"مشاهدة الدرس"})]}),r.link&&e.jsxs("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-sm text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors font-medium flex items-center gap-2",title:"فتح الدرس في نافذة جديدة",children:[e.jsx("i",{className:"fas fa-external-link-alt text-xs"}),e.jsx("span",{children:"رابط خارجي"})]}),!r.completed&&(r.has_task?e.jsxs("div",{className:`px-4 py-2 text-sm border rounded-lg font-medium flex items-center gap-2 ${s?"bg-gray-700 text-gray-400 border-gray-600":"bg-gray-50 text-gray-500 border-gray-200"}`,children:[e.jsx("i",{className:"fas fa-calendar-check text-xs"}),e.jsx("span",{children:"مجدول"})]}):e.jsxs("button",{onClick:()=>Fe(r),className:"px-4 py-2 text-sm bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 active:bg-indigo-800 transition-colors font-medium flex items-center gap-2 shadow-sm",title:"إضافة الدرس إلى قائمة المهام",children:[e.jsx("i",{className:"fas fa-calendar-plus text-xs"}),e.jsx("span",{children:"إضافة للمهام"})]})),e.jsxs("button",{onClick:()=>_e(r.id),className:`px-4 py-2 text-sm rounded-lg transition-colors font-medium flex items-center gap-2 shadow-sm ${r.completed?"bg-gray-100 text-gray-600 border border-gray-200 hover:bg-gray-200":"bg-green-600 text-white hover:bg-green-700 active:bg-green-800"}`,title:r.completed?"إلغاء اكتمال الدرس":"وضع مكتمل",children:[e.jsx("i",{className:`fas ${r.completed?"fa-undo":"fa-check-circle"} text-xs`}),e.jsx("span",{children:r.completed?"إلغاء الإكمال":"إكمال الدرس"})]})]})]})},r.id))})]},a)})}):e.jsxs("div",{className:`text-center py-12 rounded-lg border ${s?"bg-gray-900/30 border-gray-700 text-gray-500":"bg-gray-50 border-gray-200 text-gray-500"}`,children:[e.jsx("i",{className:`fas fa-book-open text-4xl mb-3 ${s?"text-gray-700":"text-gray-300"}`}),e.jsx("p",{children:"لا توجد دروس مرتبطة بهذه الدورة حالياً."})]})]}),e.jsx(M,{title:"إضافة الدرس للمهام",isOpen:fe,onClose:()=>w(!1),children:e.jsxs("form",{onSubmit:Oe,className:"space-y-4",children:[O&&e.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"اسم الدرس:"}),e.jsx("p",{className:"font-semibold text-gray-900",children:O.name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"scheduled_date",className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx("i",{className:"fas fa-calendar ml-2 text-indigo-600"}),"تاريخ التنفيذ المتوقع"]}),e.jsx("input",{id:"scheduled_date",name:"scheduled_date",type:"date",value:L.scheduled_date,onChange:ne,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx("i",{className:"fas fa-flag ml-2 text-indigo-600"}),"الأولوية"]}),e.jsxs("select",{id:"priority",name:"priority",value:L.priority,onChange:ne,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"low",children:"منخفض"}),e.jsx("option",{value:"medium",children:"متوسط"}),e.jsx("option",{value:"high",children:"عالي"}),e.jsx("option",{value:"urgent",children:"عاجل"})]})]}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsx("i",{className:"fas fa-info-circle ml-1 text-indigo-600"}),"سيتم إضافة هذا الدرس كمهمة في قائمة المهام بالتاريخ والأولوية المحددة."]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition",children:"إلغاء"}),e.jsx("button",{type:"submit",disabled:V,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:V?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin ml-2"}),"جاري الإضافة..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-plus ml-2"}),"إضافة للمهام"]})})]})]})}),e.jsx(M,{title:"استيراد دروس من JSON",isOpen:ye,onClose:()=>T(!1),children:e.jsxs("form",{onSubmit:Le,className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("i",{className:"fas fa-info-circle ml-1 text-blue-600"}),"قم بلصق محتوى JSON هنا. يجب أن يكون بتنسيق مصفوفة من الدروس:"]}),e.jsx("pre",{className:"text-xs bg-white p-3 rounded border border-gray-200 overflow-x-auto",children:`[
  {
    "name": "اسم الدرس",
    "lesson_category_id": 1,
    "link": "https://example.com",
    "duration": "30 دقيقة",
    "description": "وصف الدرس",
    "completed": false
  }
]`})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"jsonContent",className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx("i",{className:"fas fa-code ml-2 text-indigo-600"}),"محتوى JSON"]}),e.jsx("textarea",{id:"jsonContent",name:"jsonContent",value:ee,onChange:a=>q(a.target.value),required:!0,rows:10,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent font-mono text-sm",placeholder:'[{"name": "الدرس الأول", "category_id": 1, "link": "https://..."}]'})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-xs text-gray-700",children:[e.jsx("i",{className:"fas fa-exclamation-triangle ml-1 text-amber-600"}),"ملاحظة: سيتم إضافة جميع الدروس إلى هذه الدورة. تأكد من صحة البيانات قبل الاستيراد."]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>{T(!1),q("")},className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition",children:"إلغاء"}),e.jsx("button",{type:"submit",disabled:se,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:se?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin ml-2"}),"جاري الاستيراد..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-file-import ml-2"}),"استيراد الدروس"]})})]})]})}),e.jsx(M,{title:"إضافة درس جديد",isOpen:je,onClose:()=>k(!1),children:e.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-600 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-book text-white"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["دورة: ",l.name]}),e.jsx("p",{className:"text-xs text-gray-600",children:"سيتم إضافة الدرس إلى هذه الدورة"})]})]})}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"lesson_name",className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx("i",{className:"fas fa-pen ml-2 text-indigo-600"}),"اسم الدرس *"]}),e.jsx("input",{id:"lesson_name",name:"name",type:"text",value:h.name,onChange:C,required:!0,placeholder:"مثال: مقدمة إلى React",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"lesson_category_id",className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx("i",{className:"fas fa-folder ml-2 text-indigo-600"}),"فئة الدرس (اختياري)"]}),e.jsxs("select",{id:"lesson_category_id",name:"lesson_category_id",value:h.lesson_category_id,onChange:C,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition",children:[e.jsx("option",{value:"",children:"بدون فئة"}),P.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"lesson_link",className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx("i",{className:"fas fa-link ml-2 text-indigo-600"}),"رابط الدرس (اختياري)"]}),e.jsx("input",{id:"lesson_link",name:"link",type:"url",value:h.link,onChange:C,placeholder:"https://example.com/lesson",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"lesson_duration",className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx("i",{className:"fas fa-clock ml-2 text-indigo-600"}),"المدة (اختياري)"]}),e.jsx("input",{id:"lesson_duration",name:"duration",type:"text",value:h.duration,onChange:C,placeholder:"30 دقيقة",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition"})]})}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"lesson_description",className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx("i",{className:"fas fa-align-right ml-2 text-indigo-600"}),"وصف الدرس (اختياري)"]}),e.jsx("textarea",{id:"lesson_description",name:"description",value:h.description,onChange:C,rows:3,placeholder:"وصف مختصر لمحتوى الدرس",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition resize-none"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{type:"button",onClick:()=>{k(!1),I({name:"",lesson_category_id:"",link:"",duration:"",description:""})},className:"px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition font-medium",children:[e.jsx("i",{className:"fas fa-times ml-2"}),"إلغاء"]}),e.jsx("button",{type:"submit",disabled:ae,className:"px-5 py-2.5 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition shadow-md disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:ae?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin ml-2"}),"جاري الإضافة..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-check ml-2"}),"إضافة الدرس"]})})]})]})}),e.jsx(M,{title:"تحديث بيانات الدورة",isOpen:pe,onClose:()=>S(!1),children:e.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"اسم الدورة"}),e.jsx("input",{id:"name",name:"name",type:"text",value:b.name,onChange:$,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"التصنيف"}),e.jsxs("select",{id:"category_id",name:"category_id",value:b.category_id,onChange:$,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"-- اختر التصنيف --"}),P.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"link",className:"block text-sm font-medium text-gray-700 mb-2",children:"رابط الدورة (اختياري)"}),e.jsx("input",{id:"link",name:"link",type:"url",value:b.link,onChange:$,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700 mb-2",children:"صورة جديدة (اختياري)"}),e.jsx("input",{id:"image",name:"image",type:"file",accept:"image/*",onChange:$,className:"w-full text-sm text-gray-600"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"active",name:"active",type:"checkbox",checked:b.active,onChange:$,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"active",className:"text-sm text-gray-700",children:"إبقاء الدورة نشطة"})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition",children:"إلغاء"}),e.jsx("button",{type:"submit",disabled:H,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:H?"جاري التحديث...":"حفظ التغييرات"})]})]})})]})})}export{Ke as default};
